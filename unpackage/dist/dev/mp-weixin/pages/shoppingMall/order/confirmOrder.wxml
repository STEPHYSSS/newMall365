<view class="{{['confirm-order-style _div',mainStyle]}}"><uni-nav-bar vue-id="5c4967ad-1" fixed="{{true}}" left-icon="back" title="确认订单" status-bar="{{true}}" shadow="{{false}}" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" bind:clickLeft="__e" bind:__l="__l"></uni-nav-bar><block wx:if="{{!loading&&prodList.length===0}}"><a-node-data vue-id="5c4967ad-2" stringVal="获取数据失败" bind:__l="__l"></a-node-data></block><block wx:if="{{prodList.length>0}}"><view class="_div"><block wx:if="{{!$Route.query.isIntegral}}"><view data-event-opts="{{[['tap',[['radioChange',['$event']]]]]}}" bindtap="__e" class="_div"><view class="order-area _div"><view class="order-area-icon _div"><image src="/static/assets/img/weizhi.png" alt="{{true}}"></image></view><block wx:if="{{currentArea&&$root.g0!=='{}'}}"><view style="flex:1;" class="_div"><view class="_div"><label class="_span">{{currentArea.Name+$root.f0}}</label><label class="order-area-phone _span">{{currentArea.Mobile?currentArea.Mobile:currentArea.Tel}}</label></view><view class="order-area-location _div">{{currentArea.Address+" "+currentArea.House}}</view></view></block><block wx:else><view style="flex:1;margin:auto;font-size:14px;color:#909090;" class="_div">{{'选择'+(radioModes===2?'收货':'取货')+'地址'}}</view></block></view></view></block><block wx:if="{{$Route.query.isIntegral}}"><ad-cell vue-id="5c4967ad-3" text="门店自取" showArrow="false" bind:__l="__l"></ad-cell></block><block wx:if="{{DiscountList.length>0}}"><ad-cell vue-id="5c4967ad-4" text="{{UserDiscountName}}" data-event-opts="{{[['^click',[['clickUserDiscount']]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view>{{UserDiscount}}</view></ad-cell></block><block wx:if="{{radioModes===1}}"><view class="setADcell _div"><ad-cell vue-id="5c4967ad-5" text="姓名" showArrow="false" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入收件名字" data-event-opts="{{[['input',[['__set_model',['','name_user','$event',[]]]]]]}}" value="{{name_user}}" bindinput="__e"/><text class="iconfont icon-tongxunlu"></text></ad-cell><ad-cell vue-id="5c4967ad-6" text="手机号码" showArrow="false" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入手机号码" data-event-opts="{{[['input',[['__set_model',['','phone_user','$event',[]]]]]]}}" value="{{phone_user}}" bindinput="__e"/></ad-cell></view></block><view class="setADcell _div"><ad-cell vue-id="5c4967ad-7" text="备注留言" showArrow="false" showBottomLine="false" bind:__l="__l" vue-slots="{{['default']}}"><input type="text" placeholder="请输入留言" data-event-opts="{{[['input',[['__set_model',['','UserRemarks','$event',[]]]]]]}}" value="{{UserRemarks}}" bindinput="__e"/></ad-cell></view><view class="good_card_box _div"><block wx:for="{{prodList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="margin-bottom:10px;" class="_div"><a-good-line-box vue-id="{{'5c4967ad-8-'+index}}" itemData="{{item}}" isOrder="{{true}}" isIntegral="{{$Route.query.isIntegral?true:false}}" bind:__l="__l"></a-good-line-box></view></block></view><ad-cell vue-id="5c4967ad-9" text="商品总价格" showArrow="false" showBottomLine="false" bind:__l="__l" vue-slots="{{['default']}}"><label class="_span">{{"¥"+ProdTotal}}</label></ad-cell><block wx:if="{{radioModes===2}}"><ad-cell vue-id="5c4967ad-10" text="运费" showArrow="false" showBottomLine="false" bind:__l="__l" vue-slots="{{['default']}}"><label class="_span">{{freight=='0'?'免运费':'¥'+freight}}</label></ad-cell></block><view class="total-style _div"><label class="_span">小计：<label class="total-style__color _span"><block wx:if="{{allData.ScoreTotal}}"><label class="_span">{{$root.f1+"积分"}}</label></block><block wx:if="{{totalCurrent>0&&radioModes===1}}"><label class="_span">{{"¥"+$root.f2}}</label></block><block wx:else><label class="_span">{{(totalCurrent>0&&allData.ScoreTotal?'+':'')+"¥"+$root.f3}}</label></block></label></label></view><view class="radio-group-play _div"><block wx:if="{{$Route.query.isIntegral&&allData.CardInfo}}"><view style="padding-bottom:4px;" class="_div">{{"当前卡积分："+allData.CardInfo.Score}}</view></block><view class="payStyle">支付方式</view><radio-group data-event-opts="{{[['change',[['radioPayChange',['$event']]]]]}}" bindchange="__e"><block wx:if="{{allData.SalePriceTotal&&$Route.query.isIntegral||!$Route.query.isIntegral}}"><view class="_div"><block wx:if="{{$root.g1}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['1']]]]]}}" class="radio-group-item _div" bindtap="__e"><view class="_div"><image class="wechat _img" slot="right-icon" src="/static/assets/img/moneyPay.png"></image><label class="custom-title _span">{{"卡支付（余额:"+CardInfo.Balance+"）"}}</label></view><view style="flex:1;text-align:right;" class="_div"><block wx:if="{{$root.m0>totalCurrent}}"><radio slot="right-icon" value="1" checked="{{radioPayType=='1'}}"></radio></block><block wx:else><label class="summaryNum _span" style="color:#777;">余额不足</label></block></view></view></block><block wx:if="{{$Route.query.isIntegral?allData.CardInfo?true:false:true}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['2']]]]]}}" class="radio-group-item _div" bindtap="__e"><view class="_div"><image class="wechat _img" src="/static/assets/img/weixinPay.png"></image><label class="custom-title _span">微信支付</label></view><radio style="flex:1;text-align:right;" slot="right-icon" value="2" checked="{{radioPayType=='2'}}"></radio></view></block></view></block></radio-group></view><a-bottom-submit vue-id="5c4967ad-11" isOrder="{{true}}" allMoney="{{totalCurrent}}" isType="{{radioModes}}" ziquSumMoney="{{ProdTotal}}" scoreTatal="{{totalCurrentScore}}" cardInfo="{{allData.CardInfo}}" isIntegral="{{$Route.query.isIntegral}}" data-event-opts="{{[['^submitMoney',[['submitMoney']]]]}}" bind:submitMoney="__e" bind:__l="__l"></a-bottom-submit></view></block><view class="changeAreaStyle _div"><uni-popup bind:input="__e" class="vue-ref" vue-id="5c4967ad-12" type="bottom" data-ref="showAreaList" value="{{showAreaList}}" data-event-opts="{{[['^input',[['__set_model',['','showAreaList','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="confirm-order-popup _div"><view class="top _div"><label data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cancel _span" bindtap="__e">取消</label><label class="_span">选择地址</label></view><radio-group data-ref="checkboxAreaRef" data-event-opts="{{[['change',[['changeGroup',['$event']]]]]}}" class="bottom-area vue-ref" bindchange="__e"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeArea',['$0',index],[[['areaList','',index]]]]]]]}}" class="bottom-area__box _div" bindtap="__e"><radio class="checkbox-my" value="{{item.$orig.SID}}" checked="{{showAreaList==item.$orig.SID}}"></radio><view class="bottom-area__info _div"><view class="_div">{{item.$orig.Address+" "+item.$orig.House}}</view><view class="bottom-area__phone _div">{{''+item.$orig.Name+''}}<block wx:if="{{item.$orig.Sex}}"><label class="_span">{{item.f4}}</label></block><label class="_span">{{item.$orig.Mobile?item.$orig.Mobile:item.$orig.Tel}}</label></view></view><block wx:if="{{radioModes===2}}"><label data-event-opts="{{[['tap',[['clickEdit',['$0'],[[['areaList','',index]]]]]]]}}" class="icon iconfont icon-bianji bottom-area__icon _span" catchtap="__e"></label></block></view></block></radio-group><block wx:if="{{radioModes===2}}"><view data-event-opts="{{[['tap',[['areaSet',['$event']]]]]}}" class="bottom-area__add _div" bindtap="__e"><uni-icons class="colorStyle" style="vertical-align:middle;font-size:18px;margin-right:6px;" vue-id="{{('5c4967ad-13')+','+('5c4967ad-12')}}" type="plus" bind:__l="__l"></uni-icons><label style="vertical-align:middle;" class="_span">新增收货地址</label></view></block></view></uni-popup></view><uni-popup bind:input="__e" class="confirm-area-popup vue-ref" vue-id="5c4967ad-14" position="bottom" data-ref="addEditArea" value="{{addEditArea}}" data-event-opts="{{[['^input',[['__set_model',['','addEditArea','$event',[]]]]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><block wx:if="{{addEditArea}}"><a-receive-address vue-id="{{('5c4967ad-15')+','+('5c4967ad-14')}}" radioModes="{{radioModes}}" areaInfo="{{areaInfo}}" currentDeliveryType="{{currentDeliveryType}}" data-event-opts="{{[['^clickGo',[['clickGo']]],['^saveArea',[['saveAreaSet']]]]}}" bind:clickGo="__e" bind:saveArea="__e" bind:__l="__l"></a-receive-address></block></uni-popup><uni-popup class="vue-ref" vue-id="5c4967ad-16" type="bottom" data-ref="discountProgram" bind:__l="__l" vue-slots="{{['default']}}"><radio-group data-event-opts="{{[['change',[['setDiscountClick',['$event']]]]]}}" bindchange="__e"><ad-cell vue-id="{{('5c4967ad-17')+','+('5c4967ad-16')}}" text="暂不使用" showArrow="false" data-event-opts="{{[['^click',[['DiscountClick',['undefined']]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><radio style="display:inline-block;vertical-align:middle;margin-left:20px;" value="undefined" checked="{{'undefined'===radioDiscount}}"></radio></ad-cell><block wx:for="{{DiscountList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="_div"><ad-cell vue-id="{{('5c4967ad-18-'+index)+','+('5c4967ad-16')}}" text="{{item.PrefName}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['DiscountClick',['$0'],[[['DiscountList','',index]]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><label style="margin-right:20px;" class="_span">{{"-¥"+(item.DiscPrice||0)}}</label><radio value="{{item.PrefNo}}" checked="{{item.PrefNo===radioDiscount}}"></radio></ad-cell></view></block></radio-group></uni-popup></view>