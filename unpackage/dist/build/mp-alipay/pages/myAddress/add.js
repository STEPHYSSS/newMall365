(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/myAddress/add"],{"011f":function(e,t,n){"use strict";var r=n("757a"),a=n.n(r);a.a},"1d5a":function(e,t,n){"use strict";n.r(t);var r=n("a4a7"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},"361b":function(e,t,n){"use strict";(function(e){n("d977");r(n("66fd"));var t=r(n("751f"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("c11b")["createPage"])},"751f":function(e,t,n){"use strict";n.r(t);var r=n("7a55"),a=n("1d5a");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("011f");var o,s=n("f0c5"),c=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);t["default"]=c.exports},"757a":function(e,t,n){},"7a55":function(e,t,n){"use strict";var r={uniNavBar:function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"44c0"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"a329"))},aSearchArea:function(){return n.e("components/a-search-area/a-search-area").then(n.bind(null,"2999"))},simpleAddress:function(){return Promise.all([n.e("common/vendor"),n.e("components/simple-address/simple-address")]).then(n.bind(null,"23fe"))}},a=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.form.Sex=0},e.e1=function(t){e.form.Sex=1})},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))},a4a7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(n("4795")),a=n("57bb"),i=c(n("afed")),o=n("657b"),s=c(n("c1d6"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(u){return void n(u)}s.done?t(c):Promise.resolve(c).then(r,a)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,s,"next",e)}function s(e){u(i,r,a,o,s,"throw",e)}o(void 0)}))}}var l=function(){n.e("node-modules/adcell/ADCell").then(function(){return resolve(n("1420"))}.bind(null,n)).catch(n.oe)},d={name:"index",components:{adCell:l},data:function(){return{mainStyle:getApp().globalData.mainStyle,areaInfo:{},currentDeliveryType:"",specificArea:!1,logisticsArea:!1,isAdd:!1,form:{Sex:0,Name:"",Mobile:"",Address:"",House:""},location:{},areaList:i.default,disabledLoad:!1,specificAreaHead:!1,cityPickerValueDefault:[0,0,1],publicName:"",publicMobile:""}},created:function(){if(this.getWxConfig(),this.DeliveryType=this.currentDeliveryType.indexOf("2")>-1?2:3,this.$Route.query.areaInfo&&(this.form=this.$Route.query.areaInfo,this.form.Defaults="1"===this.form.Defaults),"{}"!==JSON.stringify(this.areaInfo)){this.form=JSON.parse(JSON.stringify(this.areaInfo)),this.form.Defaults="1"===this.form.Defaults;var e=this.form.Sex.replace(/\s*/g,"");this.form.Sex="先生"===e?"0":"1",this.location={latitude:this.areaInfo.Latitude,longitude:this.areaInfo.Longitude}}else this.location=this.$store.state.currentLocation},methods:{getWxConfig:function(){var e=this;return f(r.default.mark((function t(){var n,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,a.vipCard)({Action:"GetJSSDK",Url:window.location.href},"UProdOpera");case 3:n=t.sent,i=n.Data,s.default.config({debug:!1,appId:i.SDK.appId,timestamp:i.SDK.timestamp,nonceStr:i.SDK.noncestr,signature:i.SDK.signature,jsApiList:["getLocation","openAddress","scanQRCode"]}),s.default.ready((function(t){var n=e;s.default.getLocation({type:"gcj02",success:function(e){n.location={longitude:e.longitude,latitude:e.latitude},n.$store.commit("SET_CURRENT_LOCATION",n.location),sessionStorage.setItem("location",JSON.stringify(n.location))},cancel:function(e){this.$toast.fail(e)}}),s.default.error((function(e){this.$toast.fail("获取当前位置失败"),console.log("调用微信接口获取当前位置失败",e)}))})),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()},getWxAddress:function(){var e=this;s.default.openAddress({success:function(t){e.form.Name=t.userName,e.form.Mobile=t.telNumber},cancel:function(e){this.$toast.fail(e)}})},clickGo:function(){this.specificAreaHead?(this.specificArea=!1,this.specificAreaHead=!1,this.$refs.specificArea.close()):window.history.back(-1)},switchChange:function(e){this.form.Defaults=e.detail.value},tenxButton:function(){this.specificArea=!0,this.$refs.specificArea.open(),this.specificAreaHead=!0},confirmArea:function(e){this.logisticsArea=!1,this.$refs.logisticsArea.close(),this.form.Address=e.label,this.form.Type=2,this.form.Province=e.labelArr[0],this.form.City=e.labelArr[1],this.form.District=e.labelArr[2]},saveArea:function(){var e=this;return f(r.default.mark((function t(){var n,i;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.Address){t.next=3;break}return e.$toast("选择地址"),t.abrupt("return");case 3:if(e.form.House){t.next=6;break}return e.$toast("填写门牌号"),t.abrupt("return");case 6:if(e.form.Name){t.next=9;break}return e.$toast("填写联系人"),t.abrupt("return");case 9:if(e.form.Mobile){t.next=14;break}return e.$toast("填写手机号"),t.abrupt("return");case 14:if((0,o.checkMobile)(e.form.Mobile)){t.next=17;break}return e.$toast("手机号格式错误"),t.abrupt("return");case 17:return e.disabledLoad=!0,e.form.Type=e.form.Type?e.form.Type:1,t.prev=19,n={Action:"SetAddress"},Object.assign(n,e.form),n.Defaults=!0===n.Defaults?1:0,t.next=25,(0,a.vipCard)(n,"UMemberOpera");case 25:i=t.sent,i.Data,e.$toast("新增成功"),e.$Router.push({path:"/pages/myAddress/myAddress",query:{flag:"towaimai"}}),e.disabledLoad=!1,t.next=35;break;case 32:t.prev=32,t.t0=t["catch"](19),e.disabledLoad=!1;case 35:case"end":return t.stop()}}),t,null,[[19,32]])})))()},bindAddress:function(e){var t=this;t.$refs.specificArea&&t.$refs.specificArea.close(),t.$nextTick((function(){t.specificArea=!1,t.specificAreaHead=!1,t.$set(t.form,"Address",e.address),t.$set(t.form,"Latitude",e.location.lat),t.$set(t.form,"Longitude",e.location.lng)}))}}};t.default=d}},[["361b","common/runtime","common/vendor"]]]);