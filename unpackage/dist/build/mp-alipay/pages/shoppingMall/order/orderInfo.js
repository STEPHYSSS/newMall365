(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/shoppingMall/order/orderInfo"],{"064b":function(e,r,n){"use strict";n.r(r);var t=n("37e8"),o=n("58c4");for(var a in o)"default"!==a&&function(e){n.d(r,e,(function(){return o[e]}))}(a);n("c444");var u,i=n("f0c5"),c=Object(i["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],u);r["default"]=c.exports},"2bc8":function(e,r,n){"use strict";(function(e){n("d977");t(n("66fd"));var r=t(n("064b"));function t(e){return e&&e.__esModule?e:{default:e}}e(r.default)}).call(this,n("c11b")["createPage"])},"37e8":function(e,r,n){"use strict";var t={uniNavBar:function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"44c0"))},aGoodLineBox:function(){return Promise.all([n.e("common/vendor"),n.e("components/a-good-lineBox/a-good-lineBox")]).then(n.bind(null,"a0c4"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"a329"))}},o=function(){var e=this,r=e.$createElement,n=(e._self._c,JSON.stringify(e.currentArea)),t=JSON.stringify(e.currentArea),o=JSON.stringify(e.currentArea),a=e.currentArea.hasOwnProperty("UserName"),u=e._f("setSex")(e.currentArea.Sex),i=Number(e.OrderInfo.DiscAmt),c=Number(e.OrderInfo.TicketAmt),d=Number(e.OrderInfo.ScoreAmt),f=Number(e.OrderInfo.Freight),s=e._f("RefundState")(e.OrderInfo.RefundState),l=e._f("orderType")(e.OrderInfo.OrderType),p=e._f("orderState")(e.OrderInfo.State),h=e._f("payTypeOrder")(e.OrderInfo.PayType),y=e._f("deliveryType")(e.OrderInfo.DeliveryType);e.$mp.data=Object.assign({},{$root:{g0:n,g1:t,g2:o,g3:a,f0:u,m0:i,m1:c,m2:d,m3:f,f1:s,f2:l,f3:p,f4:h,f5:y}})},a=[];n.d(r,"b",(function(){return o})),n.d(r,"c",(function(){return a})),n.d(r,"a",(function(){return t}))},"58c4":function(e,r,n){"use strict";n.r(r);var t=n("8e42"),o=n.n(t);for(var a in t)"default"!==a&&function(e){n.d(r,e,(function(){return t[e]}))}(a);r["default"]=o.a},"8e42":function(e,r,n){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=u(n("4795")),o=n("57bb"),a=n("657b");function u(e){return e&&e.__esModule?e:{default:e}}function i(e,r,n,t,o,a,u){try{var i=e[a](u),c=i.value}catch(d){return void n(d)}i.done?r(c):Promise.resolve(c).then(t,o)}function c(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function u(e){i(a,t,o,u,c,"next",e)}function c(e){i(a,t,o,u,c,"throw",e)}u(void 0)}))}}var d=function(){n.e("node-modules/adcell/ADCell").then(function(){return resolve(n("1420"))}.bind(null,n)).catch(n.oe)},f={components:{adCell:d},data:function(){return{classHome:getApp().globalData.mainStyle,currentArea:{},prodList:[],OrderInfo:{},loading:!0,payType:1,showArea:!1,refundAllow:null,Refund:{},infoData:{},orderId:"",OrderType:""}},created:function(){if(this.$route.query.query){var e=decodeURIComponent(this.$route.query.query),r=JSON.parse(e);this.orderId=r.order_id,this.OrderType=r.OrderType,this.getInfo()}},computed:{},methods:{getInfo:function(){var e=this;return c(t.default.mark((function r(){var n,a;return t.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.vipCard)({Action:"GetOrderInfo",SID:e.orderId,OrderType:e.OrderType},"UOrderOpera");case 3:n=r.sent,a=n.Data,e.infoData=a,"1"===a.OrderInfo.DeliveryType?e.currentArea=a.ShopInfo:e.currentArea=a.OrderInfo,e.prodList=a.OrderItem,e.OrderInfo=a.OrderInfo,e.CardInfo=a.hasOwnProperty("CardInfo")?a.CardInfo:{},e.refundAllow=a.IsRefund,e.Refund=(a.Refund,a.Refund),e.loading=!1,r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](0),e.loading=!1;case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},toGoodsInfo:function(e,r){""!=e.PromotionItemSID?this.$Router.push({path:"/pages/shoppingMall/list/infoGood",query:{SID:e.PromotionItemSID,seckill:"true"}}):this.$Router.push({path:"/pages/shoppingMall/list/infoGood",query:{SID:e.ProdSID}})},setScore:function(e){var r="";return r=e.PayScore>0?e.PayScore+"积分"+(e.PayAmt>0?"+¥"+e.PayAmt:""):"¥"+e.PayAmt,r},clickGo:function(){this.$Router.push({path:"/pages/vip/allMyOrder"})},copyTextFun:function(r){var n;e.setClipboardData({data:r,success:function(){n=!0}}),n&&e.showToast({title:"复制成功",duration:2e3,icon:"none"})},payBtn:function(){this.$refs.popupPay.open()},payBtnSubmit:function(){var r=this;return c(t.default.mark((function n(){var u,i,c;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u="4"==r.OrderInfo.OrderType?"UIntOrderOpera":"UOrderOpera",n.prev=1,n.next=4,(0,o.vipCard)({Action:"PayMoney",SID:r.OrderInfo.SID,OrderType:r.OrderInfo.OrderType},u);case 4:i=n.sent,c=i.Data;try{(0,a.weChatPayment)(r,c,!0)}catch(t){e.showToast({title:"微信调起失败",duration:2e3,icon:"none"})}n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](1);case 11:case"end":return n.stop()}}),n,null,[[1,9]])})))()},cancelBtn:function(){var r=this;return c(t.default.mark((function n(){return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.vipCard)({Action:"CancelOrder",SID:r.OrderInfo.SID,OrderType:r.$Route.query.OrderType},"UOrderOpera");case 3:e.showToast({title:"订单取消成功",duration:2e3,icon:"none"}),setTimeout((function(){r.getInfo()}),1e3),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},cancelrefund:function(e){var r=this;return c(t.default.mark((function n(){return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.$Router.push({path:"/pages/shoppingMall/order/refundReason",query:{refund:e,PayAmt:r.OrderInfo.PayAmt,SID:r.OrderInfo.SID,RefundTime:r.OrderInfo.RefundTime,RefCompleteTime:r.Refund?r.Refund.UpTime:"",Reply:r.Refund?r.Refund.Reply:"",OrderType:r.OrderInfo.OrderType}});case 1:case"end":return n.stop()}}),n)})))()},cancelEvaluate:function(){},clickAreaGo:function(){},showAreaChange:function(e){e.show||(this.showArea=!1)},clickGoAddress:function(){this.showArea=!1,this.$refs.showArea.close()},pickCode:function(){}}};r.default=f}).call(this,n("c11b")["default"])},c444:function(e,r,n){"use strict";var t=n("c9a5"),o=n.n(t);o.a},c9a5:function(e,r,n){}},[["2bc8","common/runtime","common/vendor"]]]);