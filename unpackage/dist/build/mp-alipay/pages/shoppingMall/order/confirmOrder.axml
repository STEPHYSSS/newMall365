<view class="{{(('confirm-order-style _div')+' '+mainStyle)}}" style="padding-bottom:50px;"><uni-nav-bar vue-id="5c3f6783-1" fixed="{{true}}" left-icon="back" title="确认订单" status-bar="{{true}}" shadow="{{false}}" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" onClickLeft="__e" onVueInit="__l"></uni-nav-bar><block a:if="{{!loading&&prodList.length===0}}"><a-node-data vue-id="5c3f6783-2" stringVal="获取数据失败" onVueInit="__l"></a-node-data></block><block a:if="{{prodList.length>0}}"><view class="_div"><block a:if="{{!$Route.query.isIntegral}}"><view data-event-opts="{{[['tap',[['radioChange',['$event']]]]]}}" onTap="__e" class="_div"><view class="order-area _div"><view class="order-area-icon _div"><image src="/static/assets/img/weizhi.png" alt="{{true}}"></image></view><block a:if="{{currentArea&&$root.g0!=='{}'}}"><view style="flex:1;" class="_div"><view class="_div"><label class="_span">{{currentArea.Name+$root.f0}}</label><label class="order-area-phone _span">{{currentArea.Mobile?currentArea.Mobile:currentArea.Tel}}</label></view><view class="order-area-location _div">{{currentArea.Address+" "+currentArea.House+''}}</view></view></block><block a:else><view style="flex:1;margin:auto;font-size:14px;color:#909090;" class="_div">{{'选择'+(radioModes===2?'收货':'取货')+'地址'}}</view></block></view></view></block><block a:if="{{$Route.query.isIntegral}}"><ad-cell vue-id="5c3f6783-3" text="门店自取" showArrow="false" onVueInit="__l"></ad-cell></block><block a:if="{{radioModes===1}}"><view class="setADcell _div"><ad-cell vue-id="5c3f6783-4" text="姓名" showArrow="false" onVueInit="__l"><input type="text" placeholder="请输入收件名字" data-event-opts="{{[['input',[['__set_model',['','name_user','$event',[]]]]]]}}" value="{{name_user}}" onInput="__e"/><text data-event-opts="{{[['tap',[['getAddress',['$event']]]]]}}" class="iconfont icon-tongxunlu" onTap="__e"></text></ad-cell><ad-cell vue-id="5c3f6783-5" text="手机号码" showArrow="false" onVueInit="__l"><input type="text" placeholder="请输入手机号码" data-event-opts="{{[['input',[['__set_model',['','phone_user','$event',[]]]]]]}}" value="{{phone_user}}" onInput="__e"/></ad-cell><block a:if="{{prodList[0].DeliveryType&&!($root.g1>-1&&radioModes===2)}}"><ad-cell vue-id="5c3f6783-6" text="{{radioModes===1?'选择自取时间':'选择收货时间'}}" showArrow="false" data-event-opts="{{[['^click',[['clickDataTime']]]]}}" onClick="__e" onVueInit="__l"><view class="customView">{{''+UserTime+''}}</view></ad-cell></block><ad-cell vue-id="5c3f6783-7" text="备注留言" showArrow="false" showBottomLine="false" onVueInit="__l"><input type="text" placeholder="请输入留言" data-event-opts="{{[['input',[['__set_model',['','UserRemarks','$event',[]]]]]]}}" value="{{UserRemarks}}" onInput="__e"/></ad-cell></view></block><view class="good_card_box _div"><block a:for="{{prodList}}" a:for-item="item" a:for-index="index" a:key="index"><view style="margin-bottom:10px;" class="_div"><line-box-confirm vue-id="{{'5c3f6783-8-'+index}}" itemData="{{item}}" isOrder="{{true}}" isIntegral="{{$Route.query.isIntegral?true:false}}" onVueInit="__l"></line-box-confirm></view></block></view><view class="couponBox _div"><block a:if="{{TicketList.length>0}}"><view data-event-opts="{{[['tap',[['clickUserTicketName',['$event']]]]]}}" class="coupon1 _div" onTap="__e"><view class="couponName _p">优惠券</view><view class="couponRight _p">{{UserTicketName}}<label class="iconfont icon-jiantou _span"></label></view></view></block><block a:if="{{BeneList.length>0}}"><view data-event-opts="{{[['tap',[['clickinterestName',['$event']]]]]}}" class="coupon1 _div" onTap="__e"><view class="couponName _p">会员权益</view><view class="couponRight _p">{{interestName}}<label class="iconfont icon-jiantou _span"></label></view></view></block><block a:if="{{DiscountList.length>0}}"><view data-event-opts="{{[['tap',[['clickUserDiscount',['$event']]]]]}}" class="coupon1 _div" onTap="__e"><view class="couponName _p">优惠方案</view><view class="couponRight _p">{{UserDiscountName}}<label class="iconfont icon-jiantou _span"></label></view></view></block></view><block a:if="{{radioModes===2}}"><ad-cell vue-id="5c3f6783-9" text="运费" showArrow="false" showBottomLine="false" onVueInit="__l"><label class="_span">{{freight=='0'?'免运费':'¥'+freight}}</label></ad-cell></block><ad-cell vue-id="5c3f6783-10" text="商品总价格" showArrow="false" showBottomLine="false" onVueInit="__l"><label class="_span">{{"¥"+ProdTotal}}</label></ad-cell><view class="radio-group-play _div"><block a:if="{{$Route.query.isIntegral&&allData.CardInfo}}"><view style="padding-bottom:4px;" class="_div">{{"当前卡积分："+allData.CardInfo.Score}}</view></block><block a:if="{{ScoreDeduction>0}}"><view class="_div"><image class="wechat _img" slot="right-icon" src="{{$root.m0}}"></image><label class="custom-title _span">{{"可用"+ScoreDeduction+"积分，抵用"+ScoreAmt+"元"}}</label><view style="float:right;"><checkbox-group data-event-opts="{{[['change',[['checkChange',['$event']]]]]}}" onChange="__e"><label><checkbox style="transform:scale(0.7);" value="0" checked="{{allck}}" color="#FFCC33"></checkbox></label></checkbox-group></view></view></block><view class="payStyle">支付方式</view><radio-group data-event-opts="{{[['change',[['radioPayChange',['$event']]]]]}}" onChange="__e"><block a:if="{{allData.SalePriceTotal&&$Route.query.isIntegral||!$Route.query.isIntegral}}"><view class="_div"><block a:if="{{$root.g2}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['1']]]]]}}" class="radio-group-item _div" onTap="__e"><view class="_div"><image class="wechat _img" slot="right-icon" src="{{$root.m1}}"></image><label class="custom-title _span">{{"卡支付（余额:"+CardInfo.Balance+"）"}}</label></view><view style="flex:1;text-align:right;" class="_div"><block a:if="{{$root.m2>=totalCurrent}}"><radio slot="right-icon" value="1" checked="{{radioPayType=='1'}}"></radio></block><block a:else><label class="summaryNum _span" style="color:#777;">余额不足</label></block></view></view></block><block a:if="{{$Route.query.isIntegral?allData.CardInfo?true:false:true}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['2']]]]]}}" class="radio-group-item _div" onTap="__e"><view class="_div"><image class="wechat _img" src="{{$root.m3}}"></image><label class="custom-title _span">微信支付</label></view><radio style="flex:1;text-align:right;" slot="right-icon" value="2" checked="{{radioPayType=='2'}}"></radio></view></block></view></block></radio-group></view><a-bottom-submit vue-id="5c3f6783-11" isOrder="{{true}}" objPrice="{{objPrice}}" FloatList="{{FloatList}}" isType="{{radioModes}}" scoreTatal="{{totalCurrentScore}}" cardInfo="{{allData.CardInfo}}" isIntegral="{{$Route.query.isIntegral}}" data-event-opts="{{[['^submitMoney',[['submitMoney']]]]}}" onSubmitMoney="__e" onVueInit="__l"></a-bottom-submit></view></block><view class="changeAreaStyle _div"><uni-popup onInput="__e" vue-id="5c3f6783-12" type="bottom" ref="__r" data-ref="showAreaList" value="{{showAreaList}}" data-event-opts="{{[['^input',[['__set_model',['','showAreaList','$event',[]]]]]]}}" onVueInit="__l"><view class="confirm-order-popup _div"><view class="top _div"><label data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cancel _span" onTap="__e">取消</label><label class="_span">选择地址</label></view><radio-group ref="__r" data-ref="checkboxAreaRef" data-event-opts="{{[['change',[['changeGroup',['$event']]]]]}}" class="bottom-area" onChange="__e"><block a:for="{{$root.l0}}" a:for-item="item" a:for-index="index" a:key="index"><view data-event-opts="{{[['tap',[['changeArea',['$0',index],[[['areaList','',index]]]]]]]}}" class="bottom-area__box _div" onTap="__e"><radio class="checkbox-my" value="{{item.$orig.SID}}" checked="{{item.$orig.SID===showSID}}"></radio><view class="bottom-area__info _div"><view class="_div">{{item.$orig.Address+" "+item.$orig.House}}</view><view class="bottom-area__phone _div">{{''+item.$orig.Name+''}}<block a:if="{{item.$orig.Sex}}"><label class="_span">{{item.f1}}</label></block><label class="_span">{{item.$orig.Mobile?item.$orig.Mobile:item.$orig.Tel}}</label></view></view><block a:if="{{radioModes===2}}"><label data-event-opts="{{[['tap',[['clickEdit',['$0'],[[['areaList','',index]]]]]]]}}" class="icon iconfont icon-bianji bottom-area__icon _span" catchTap="__e"></label></block></view></block></radio-group><block a:if="{{radioModes===2}}"><view data-event-opts="{{[['tap',[['areaSet',['$event']]]]]}}" class="bottom-area__add _div" onTap="__e"><uni-icons class="colorStyle" style="vertical-align:middle;font-size:18px;margin-right:6px;" vue-id="{{('5c3f6783-13')+','+('5c3f6783-12')}}" type="plus" onVueInit="__l"></uni-icons><label style="vertical-align:middle;" class="_span">新增收货地址</label></view></block></view></uni-popup></view><uni-popup onInput="__e" class="confirm-area-popup" vue-id="5c3f6783-14" position="bottom" ref="__r" data-ref="addEditArea" value="{{addEditArea}}" data-event-opts="{{[['^input',[['__set_model',['','addEditArea','$event',[]]]]]]}}" onVueInit="__l"><block a:if="{{addEditArea}}"><a-receive-address vue-id="{{('5c3f6783-15')+','+('5c3f6783-14')}}" radioModes="{{radioModes}}" areaInfo="{{areaInfo}}" currentDeliveryType="{{currentDeliveryType}}" data-event-opts="{{[['^clickGo',[['clickGo']]],['^saveArea',[['saveAreaSet']]]]}}" onClickGo="__e" onSaveArea="__e" onVueInit="__l"></a-receive-address></block></uni-popup><uni-popup onInput="__e" style="max-height:50%;" vue-id="5c3f6783-16" type="bottom" ref="__r" data-ref="selectTime" value="{{selectTime}}" data-event-opts="{{[['^input',[['__set_model',['','selectTime','$event',[]]]]]]}}" onVueInit="__l"><view class="confirm-selectTime-popup _div"><view class="leftNavsidebar _div"><scroll-view class="menus" scroll-into-view="{{menuScrollIntoView}}" scroll-with-animation="{{true}}" scroll-y="{{true}}"><view class="{{('homepageLeftFixed')}}"><block a:for="{{sidebarList}}" a:for-item="item" a:for-index="index" a:key="index"><view data-event-opts="{{[['tap',[['changeSider',[index]]]]]}}" class="{{(('homepageLeft')+' '+(index===currentIndex?'activeCanteen':''))}}" onTap="__e">{{''+item+''}}</view></block></view></scroll-view></view></view><block a:if="{{rightTimeList.length>0}}"><view class="rightTime _div"><scroll-view class="menus" scroll-into-view="{{menuScrollIntoView}}" scroll-with-animation="{{true}}" scroll-y="{{true}}"><radio-group data-event-opts="{{[['change',[['radioTimeFun',['$event']]]]]}}" onChange="__e"><block a:for="{{rightTimeList}}" a:for-item="item" a:for-index="index" a:key="index"><view border="{{false}}" class="_div"><ad-cell style="width:100%;" vue-id="{{('5c3f6783-17-'+index)+','+('5c3f6783-16')}}" text="{{item}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['rightTimeClick',['$0'],[[['rightTimeList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><radio value="{{item}}" checked="{{radioTime==item}}"></radio></ad-cell></view></block></radio-group></scroll-view></view></block></uni-popup><uni-popup vue-id="5c3f6783-18" type="bottom" ref="__r" data-ref="discountProgram" onVueInit="__l"><radio-group data-event-opts="{{[['change',[['setDiscountClick',['$event']]]]]}}" onChange="__e"><ad-cell vue-id="{{('5c3f6783-19')+','+('5c3f6783-18')}}" text="暂不使用" showArrow="false" data-event-opts="{{[['^click',[['DiscountClick',['undefined']]]]]}}" onClick="__e" onVueInit="__l"><radio style="display:inline-block;vertical-align:middle;margin-left:20px;" value="undefined" checked="{{'undefined'===radioDiscount}}"></radio></ad-cell><block a:for="{{DiscountList}}" a:for-item="item" a:for-index="index" a:key="index"><view class="_div"><ad-cell vue-id="{{('5c3f6783-20-'+index)+','+('5c3f6783-18')}}" text="{{item.PrefName}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['DiscountClick',['$0',1],[[['DiscountList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><radio value="{{item.PrefNo}}" checked="{{item.PrefNo===radioDiscount}}"></radio></ad-cell></view></block></radio-group></uni-popup><uni-popup style="max-height:50%;" vue-id="5c3f6783-21" type="bottom" ref="__r" data-ref="ticketProgram" onVueInit="__l"><view class="_div"><scroll-view class="menus" scroll-into-view="{{menuScrollIntoView}}" scroll-with-animation="{{true}}" scroll-y="{{true}}"><radio-group data-event-opts="{{[['change',[['setTicketClick',['$event']]]]]}}" onChange="__e"><ad-cell vue-id="{{('5c3f6783-22')+','+('5c3f6783-21')}}" text="暂不使用" showArrow="false" data-event-opts="{{[['^click',[['ticketClick',['undefined']]]]]}}" onClick="__e" onVueInit="__l"><radio style="display:inline-block;vertical-align:middle;margin-left:20px;" value="undefined" checked="{{'undefined'===radioTicket}}"></radio></ad-cell><block a:for="{{TicketList}}" a:for-item="item" a:for-index="index" a:key="index"><view class="_div"><ad-cell vue-id="{{('5c3f6783-23-'+index)+','+('5c3f6783-21')}}" text="{{item.TicketName}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['ticketClick',['$0',1],[[['TicketList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><radio value="{{item.TicketNo}}" checked="{{item.TicketNo===radioTicket}}"></radio></ad-cell></view></block></radio-group></scroll-view></view></uni-popup><uni-popup style="max-height:50%;" vue-id="5c3f6783-24" type="bottom" ref="__r" data-ref="interestProgram" onVueInit="__l"><view class="_div"><scroll-view class="menus" scroll-into-view="{{menuScrollIntoView}}" scroll-with-animation="{{true}}" scroll-y="{{true}}"><radio-group data-event-opts="{{[['change',[['setBeneClick',['$event']]]]]}}" onChange="__e"><ad-cell vue-id="{{('5c3f6783-25')+','+('5c3f6783-24')}}" text="暂不使用" showArrow="false" data-event-opts="{{[['^click',[['beneClick',['undefined']]]]]}}" onClick="__e" onVueInit="__l"><radio style="display:inline-block;vertical-align:middle;margin-left:20px;" value="undefined" checked="{{'undefined'===radioBene}}"></radio></ad-cell><block a:for="{{BeneList}}" a:for-item="item" a:for-index="index" a:key="index"><view class="_div"><ad-cell vue-id="{{('5c3f6783-26-'+index)+','+('5c3f6783-24')}}" text="{{item.BeneName}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['beneClick',['$0',1],[[['BeneList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><radio value="{{item.BeneSID}}" checked="{{item.BeneSID===radioBene}}"></radio></ad-cell></view></block></radio-group></scroll-view></view></uni-popup><uni-popup vue-id="5c3f6783-27" type="center" ref="__r" data-ref="payTypePop" onVueInit="__l"><view style="width:300px;background-color:#FFFFFF;height:auto;border-radius:5x;"><view class="block block-form margin-bottom-normal _div"><view class="block-item _div"><view class="label _div" style="text-indent:10px;">微卡余额</view><label style="padding-left:10px;" type="digit" name="balance" disabled="true" class="_span">{{CardInfo.Balance}}</label></view><block a:if="{{CardInfo.Score}}"><view class="block-item _div"><view class="label _div" style="text-indent:10px;">积分余额</view><label style="padding-left:10px;" type="digit" name="payScore" disabled="true" class="_span">{{CardInfo.Score}}</label></view></block><view class="block-item _div"><view class="label _div" style="text-indent:10px;">本次支付</view><label style="padding-left:10px;" class="_span">{{total}}</label></view><block a:if="{{CardInfo.IsPass==='1'&&radioPayType==='1'}}"><view class="block-item _div"><view class="label _div" style="text-indent:10px;">微卡密码</view><input style="padding-left:10px;width:160px;" type="password" placeholder="请输入密码" name="password" data-event-opts="{{[['input',[['__set_model',['','password','$event',[]]]]]]}}" value="{{password}}" onInput="__e"/></view></block></view><view class="button-theme-big _div" style="padding-bottom:20px;"><button class="btn-pay btn btn-block btn-large btn-codpay" disabled="{{isDisabled}}" data-event-opts="{{[['tap',[['OrderCardPay',['$event']]]]]}}" onTap="__e">确认支付</button></view></view></uni-popup></view>