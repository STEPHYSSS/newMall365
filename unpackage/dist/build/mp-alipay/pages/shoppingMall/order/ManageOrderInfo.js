(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/shoppingMall/order/ManageOrderInfo"],{"3edf":function(e,r,n){"use strict";var t={uniNavBar:function(){return n.e("components/uni-nav-bar/uni-nav-bar").then(n.bind(null,"44c0"))},aGoodLineBox:function(){return Promise.all([n.e("common/vendor"),n.e("components/a-good-lineBox/a-good-lineBox")]).then(n.bind(null,"a0c4"))},uniPopup:function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"a329"))}},o=function(){var e=this,r=e.$createElement,n=(e._self._c,JSON.stringify(e.currentArea)),t=JSON.stringify(e.currentArea),o=JSON.stringify(e.currentArea),a=e.currentArea.hasOwnProperty("UserName"),u=e._f("setSex")(e.currentArea.Sex),c=Number(e.OrderInfo.DiscAmt),i=Number(e.OrderInfo.TicketAmt),f=Number(e.OrderInfo.ScoreAmt),d=Number(e.OrderInfo.Freight),s=e._f("orderType")(e.OrderInfo.OrderType),l=e._f("orderState")(e.OrderInfo.State),p=e._f("payTypeOrder")(e.OrderInfo.PayType),y=e._f("deliveryType")(e.OrderInfo.DeliveryType);e.$mp.data=Object.assign({},{$root:{g0:n,g1:t,g2:o,g3:a,f0:u,m0:c,m1:i,m2:f,m3:d,f1:s,f2:l,f3:p,f4:y}})},a=[];n.d(r,"b",(function(){return o})),n.d(r,"c",(function(){return a})),n.d(r,"a",(function(){return t}))},"49c2":function(e,r,n){"use strict";n.r(r);var t=n("817d"),o=n.n(t);for(var a in t)"default"!==a&&function(e){n.d(r,e,(function(){return t[e]}))}(a);r["default"]=o.a},"5cf8":function(e,r,n){},"817d":function(e,r,n){"use strict";(function(e){Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var t=u(n("4795")),o=n("57bb"),a=n("657b");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,r,n,t,o,a,u){try{var c=e[a](u),i=c.value}catch(f){return void n(f)}c.done?r(i):Promise.resolve(i).then(t,o)}function i(e){return function(){var r=this,n=arguments;return new Promise((function(t,o){var a=e.apply(r,n);function u(e){c(a,t,o,u,i,"next",e)}function i(e){c(a,t,o,u,i,"throw",e)}u(void 0)}))}}var f=function(){n.e("node-modules/adcell/ADCell").then(function(){return resolve(n("1420"))}.bind(null,n)).catch(n.oe)},d={components:{adCell:f},data:function(){return{classHome:getApp().globalData.mainStyle,currentArea:{},prodList:[],OrderInfo:{},loading:!0,payType:1,showArea:!1,refundAllow:null,Refund:{},infoData:{},orderId:"",OrderType:""}},created:function(){if(this.$route.query.query){console.log(this.$route.query.query);var e=decodeURIComponent(this.$route.query.query);console.log(e);var r=JSON.parse(e);this.orderId=r.order_id,this.OrderType=r.OrderType,this.getInfo()}},computed:{},methods:{getInfo:function(){var e=this;return i(t.default.mark((function r(){var n,a;return t.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,o.vipCard)({Action:"GetManageOrderInfo",SID:e.orderId,OrderType:e.OrderType},"UOrderOpera");case 3:n=r.sent,a=n.Data,e.infoData=a,"1"===a.OrderInfo.DeliveryType?e.currentArea=a.ShopInfo:e.currentArea=a.OrderInfo,e.prodList=a.OrderItem,e.OrderInfo=a.OrderInfo,e.CardInfo=a.hasOwnProperty("CardInfo")?a.CardInfo:{},e.refundAllow=a.IsRefund,e.Refund=(a.Refund,a.Refund),e.loading=!1,r.next=19;break;case 16:r.prev=16,r.t0=r["catch"](0),e.loading=!1;case 19:case"end":return r.stop()}}),r,null,[[0,16]])})))()},setScore:function(e){var r="";return r=e.PayScore>0?e.PayScore+"积分"+(e.PayAmt>0?"+¥"+e.PayAmt:""):"¥"+e.PayAmt,r},clickGo:function(){this.$Router.push({path:"/pages/vip/allMyOrder"})},copyTextFun:function(r){var n;e.setClipboardData({data:r,success:function(){n=!0}}),n&&e.showToast({title:"复制成功",duration:2e3,icon:"none"})},payBtn:function(){this.$refs.popupPay.open()},payBtnSubmit:function(){var r=this;return i(t.default.mark((function n(){var u,c,i;return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return u="4"==r.OrderInfo.OrderType?"UIntOrderOpera":"UOrderOpera",n.prev=1,n.next=4,(0,o.vipCard)({Action:"PayMoney",SID:r.OrderInfo.SID,OrderType:r.OrderInfo.OrderType},u);case 4:c=n.sent,i=c.Data;try{(0,a.weChatPayment)(r,i,!0)}catch(t){e.showToast({title:"微信调起失败",duration:2e3,icon:"none"})}n.next=11;break;case 9:n.prev=9,n.t0=n["catch"](1);case 11:case"end":return n.stop()}}),n,null,[[1,9]])})))()},cancelBtn:function(){var r=this;return i(t.default.mark((function n(){return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,o.vipCard)({Action:"CancelOrder",SID:r.OrderInfo.SID,OrderType:r.$Route.query.OrderType},"UOrderOpera");case 3:e.showToast({title:"订单取消成功",duration:2e3,icon:"none"}),setTimeout((function(){r.getInfo()}),1e3),n.next=9;break;case 7:n.prev=7,n.t0=n["catch"](0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])})))()},cancelrefund:function(e){var r=this;return i(t.default.mark((function n(){return t.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r.$Router.push({path:"/pages/shoppingMall/order/refundReason",query:{refund:e,PayAmt:r.OrderInfo.PayAmt,SID:r.OrderInfo.SID,RefundTime:r.OrderInfo.RefundTime,RefCompleteTime:r.Refund?r.Refund.UpTime:"",Reply:r.Refund?r.Refund.Reply:"",OrderType:r.OrderInfo.OrderType}});case 1:case"end":return n.stop()}}),n)})))()},cancelEvaluate:function(){},clickAreaGo:function(){},showAreaChange:function(e){e.show||(this.showArea=!1)},clickGoAddress:function(){this.showArea=!1,this.$refs.showArea.close()},pickCode:function(){}}};r.default=d}).call(this,n("c11b")["default"])},cc5f:function(e,r,n){"use strict";n.r(r);var t=n("3edf"),o=n("49c2");for(var a in o)"default"!==a&&function(e){n.d(r,e,(function(){return o[e]}))}(a);n("f20e");var u,c=n("f0c5"),i=Object(c["a"])(o["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],u);r["default"]=i.exports},cf74:function(e,r,n){"use strict";(function(e){n("d977");t(n("66fd"));var r=t(n("cc5f"));function t(e){return e&&e.__esModule?e:{default:e}}e(r.default)}).call(this,n("c11b")["createPage"])},f20e:function(e,r,n){"use strict";var t=n("5cf8"),o=n.n(t);o.a}},[["cf74","common/runtime","common/vendor"]]]);