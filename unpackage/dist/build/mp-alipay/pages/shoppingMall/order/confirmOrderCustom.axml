<view class="{{(('confirm-order-style _div')+' '+mainStyle)}}"><uni-nav-bar vue-id="3e611752-1" fixed="{{true}}" left-icon="back" title="确认订单" status-bar="{{true}}" shadow="{{false}}" data-event-opts="{{[['^clickLeft',[['clickLeft']]]]}}" onClickLeft="__e" onVueInit="__l"></uni-nav-bar><block a:if="{{!loading&&prodList.length===0}}"><a-node-data vue-id="3e611752-2" stringVal="获取数据失败" onVueInit="__l"></a-node-data></block><block a:if="{{prodList.length>0}}"><view class="_div"><block a:if="{{!$Route.query.isIntegral}}"><view class="indexTop colorStyle _div"><block a:if="{{$root.g0>-1||$root.g1>-1}}"><view data-event-opts="{{[['tap',[['changeMode',[2]]]]]}}" class="{{(((('_div')+' '+'changeMode')+' '+'changeModeLeft')+' '+(radioModes===2?'borderColor':''))}}" onTap="__e"><block a:if="{{radioModes===2}}"><label class="iconfont icon-xuanzhong changeTopIcon _span"></label></block><image class="changeModeImg" src="/static/assets/img/Pack.png"></image><label class="_span">{{$root.g2>-1?'外卖配送':'物流配送'}}</label></view></block><block a:if="{{$root.g3>-1}}"><view data-event-opts="{{[['tap',[['changeMode',[1]]]]]}}" class="{{(((('_div')+' '+'changeMode')+' '+'changeModeRight')+' '+(radioModes===1?'borderColor':''))}}" onTap="__e"><block a:if="{{radioModes===1}}"><label class="iconfont icon-xuanzhong changeTopIcon _span"></label></block><image class="changeModeImg" src="/static/assets/img/Eat.png"></image>到店自取</view></block></view></block><block a:if="{{!$Route.query.isIntegral}}"><view data-event-opts="{{[['tap',[['radioChange',['$event']]]]]}}" onTap="__e" class="_div"><view class="order-area _div"><view class="order-area-icon _div"><image src="/static/assets/img/weizhi.png" alt="{{true}}"></image></view><block a:if="{{currentArea&&$root.g4!=='{}'}}"><view style="flex:1;" class="_div"><view class="_div"><label class="_span">{{currentArea.Name+$root.f0}}</label><label class="order-area-phone _span">{{currentArea.Mobile?currentArea.Mobile:currentArea.Tel}}</label></view><view class="order-area-location _div">{{currentArea.Address+" "+currentArea.House}}</view></view></block><block a:else><view style="flex:1;margin:auto;font-size:14px;color:#909090;" class="_div">{{'选择'+(radioModes===2?'收货':'取货')+'地址'}}</view></block><view style="margin:auto 8px;color:#909090;" class="_div"><uni-icons vue-id="3e611752-3" type="arrowright" onVueInit="__l"></uni-icons></view></view></view></block><view class="good_card_box _div"><block a:for="{{prodList}}" a:for-item="item" a:for-index="index" a:key="index"><view style="margin-bottom:10px;" class="_div"><a-good-line-box vue-id="{{'3e611752-4-'+index}}" itemData="{{item}}" isOrder="{{true}}" isIntegral="{{$Route.query.isIntegral?true:false}}" onVueInit="__l"></a-good-line-box></view></block></view><block a:if="{{$Route.query.isIntegral}}"><ad-cell vue-id="3e611752-5" text="门店自取" showArrow="false" onVueInit="__l"></ad-cell></block><block a:if="{{prodList[0].DeliveryType&&!($root.g5>-1&&radioModes===2)}}"><ad-cell vue-id="3e611752-6" text="{{radioModes===1?'选择自取时间':'选择收货时间'}}" showArrow="false" data-event-opts="{{[['^click',[['clickDataTime']]]]}}" onClick="__e" onVueInit="__l"><view class="customView">{{''+UserTime+''}}</view></ad-cell></block><block a:if="{{DiscountList.length>0}}"><ad-cell vue-id="3e611752-7" text="{{UserDiscountName}}" data-event-opts="{{[['^click',[['clickUserDiscount']]]]}}" onClick="__e" onVueInit="__l"><view>{{UserDiscount}}</view></ad-cell></block><block a:if="{{radioModes===1}}"><view class="setADcell _div"><ad-cell vue-id="3e611752-8" text="手机号码" showArrow="false" onVueInit="__l"><input type="text" placeholder="请输入手机号码" data-event-opts="{{[['input',[['__set_model',['','phone_user','$event',[]]]]]]}}" value="{{phone_user}}" onInput="__e"/></ad-cell></view></block><block a:if="{{radioModes===1}}"><view class="setADcell _div"><ad-cell vue-id="3e611752-9" text="收件名字" showArrow="false" onVueInit="__l"><input type="text" placeholder="请输入收件名字" data-event-opts="{{[['input',[['__set_model',['','name_user','$event',[]]]]]]}}" value="{{name_user}}" onInput="__e"/></ad-cell></view></block><view class="setADcell _div"><ad-cell vue-id="3e611752-10" text="备注留言" showArrow="false" showBottomLine="false" onVueInit="__l"><input type="text" placeholder="请输入留言" data-event-opts="{{[['input',[['__set_model',['','UserRemarks','$event',[]]]]]]}}" value="{{UserRemarks}}" onInput="__e"/></ad-cell></view><ad-cell vue-id="3e611752-11" text="商品总价格" showArrow="false" showBottomLine="false" onVueInit="__l"><label class="_span">{{"¥"+ProdTotal}}</label></ad-cell><block a:if="{{radioModes===2}}"><ad-cell vue-id="3e611752-12" text="运费" showArrow="false" showBottomLine="false" onVueInit="__l"><label class="_span">{{freight=='0'?'免运费':'¥'+freight}}</label></ad-cell></block><view class="total-style _div"><label class="_span">小计：<label class="total-style__color _span"><block a:if="{{allData.ScoreTotal}}"><label class="_span">{{$root.f1+"积分"}}</label></block><block a:if="{{totalCurrent>0}}"><label class="_span">{{(totalCurrent>0&&allData.ScoreTotal?'+':'')+"¥"+$root.f2}}</label></block></label></label></view><view class="radio-group-play _div"><block a:if="{{$Route.query.isIntegral&&allData.CardInfo}}"><view style="padding-bottom:4px;" class="_div">{{"当前卡积分："+allData.CardInfo.Score}}</view></block><radio-group data-event-opts="{{[['change',[['radioPayChange',['$event']]]]]}}" onChange="__e"><block a:if="{{allData.SalePriceTotal&&$Route.query.isIntegral||!$Route.query.isIntegral}}"><view class="_div"><block a:if="{{$root.g6}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['1']]]]]}}" class="radio-group-item _div" onTap="__e"><view class="_div"><image class="wechat _img" slot="right-icon" src="/static/assets/img/moneyPay.png"></image><label class="custom-title _span">{{"卡支付（余额:"+CardInfo.Balance+"）"}}</label></view><view style="flex:1;text-align:right;" class="_div"><block a:if="{{$root.m0>totalCurrent}}"><radio slot="right-icon" value="1" checked="{{radioPayType=='1'}}"></radio></block><block a:else><label class="summaryNum _span" style="color:#777;">余额不足</label></block></view></view></block><block a:if="{{$Route.query.isIntegral?allData.CardInfo?true:false:true}}"><view data-event-opts="{{[['tap',[['PayTypeClick',['2']]]]]}}" class="radio-group-item _div" onTap="__e"><view class="_div"><image class="wechat _img" src="/static/assets/img/weixinPay.png"></image><label class="custom-title _span">微信支付</label></view><radio style="flex:1;text-align:right;" slot="right-icon" value="2" checked="{{radioPayType=='2'}}"></radio></view></block></view></block></radio-group></view><a-bottom-submit vue-id="3e611752-13" isOrder="{{true}}" allMoney="{{totalCurrent}}" scoreTatal="{{totalCurrentScore}}" cardInfo="{{allData.CardInfo}}" isIntegral="{{$Route.query.isIntegral}}" data-event-opts="{{[['^submitMoney',[['submitMoney']]]]}}" onSubmitMoney="__e" onVueInit="__l"></a-bottom-submit></view></block><view class="changeAreaStyle _div"><uni-popup onInput="__e" vue-id="3e611752-14" type="bottom" ref="__r" data-ref="showAreaList" value="{{showAreaList}}" data-event-opts="{{[['^input',[['__set_model',['','showAreaList','$event',[]]]]]]}}" onVueInit="__l"><view class="confirm-order-popup _div"><view class="top _div"><label data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="cancel _span" onTap="__e">取消</label><label class="_span">选择地址</label></view><radio-group ref="__r" data-ref="checkboxAreaRef" data-event-opts="{{[['change',[['changeGroup',['$event']]]]]}}" class="bottom-area" onChange="__e"><block a:for="{{$root.l0}}" a:for-item="item" a:for-index="index" a:key="index"><view data-event-opts="{{[['tap',[['changeArea',['$0',index],[[['areaList','',index]]]]]]]}}" class="bottom-area__box _div" onTap="__e"><radio class="checkbox-my" value="{{item.$orig.SID}}" checked="{{showAreaList==item.$orig.SID}}"></radio><view class="bottom-area__info _div"><view class="_div">{{item.$orig.Address+" "+item.$orig.House}}</view><view class="bottom-area__phone _div">{{''+item.$orig.Name+''}}<block a:if="{{item.$orig.Sex}}"><label class="_span">{{item.f3}}</label></block><label class="_span">{{item.$orig.Mobile?item.$orig.Mobile:item.$orig.Tel}}</label></view></view><block a:if="{{radioModes===2}}"><label data-event-opts="{{[['tap',[['clickEdit',['$0'],[[['areaList','',index]]]]]]]}}" class="icon iconfont icon-bianji bottom-area__icon _span" catchTap="__e"></label></block></view></block></radio-group><block a:if="{{radioModes===2}}"><view data-event-opts="{{[['tap',[['areaSet',['$event']]]]]}}" class="bottom-area__add _div" onTap="__e"><uni-icons class="colorStyle" style="vertical-align:middle;font-size:18px;margin-right:6px;" vue-id="{{('3e611752-15')+','+('3e611752-14')}}" type="plus" onVueInit="__l"></uni-icons><label style="vertical-align:middle;" class="_span">新增收货地址</label></view></block></view></uni-popup></view><uni-popup onInput="__e" class="confirm-area-popup" vue-id="3e611752-16" position="bottom" ref="__r" data-ref="addEditArea" value="{{addEditArea}}" data-event-opts="{{[['^input',[['__set_model',['','addEditArea','$event',[]]]]]]}}" onVueInit="__l"><block a:if="{{addEditArea}}"><a-receive-address vue-id="{{('3e611752-17')+','+('3e611752-16')}}" radioModes="{{radioModes}}" areaInfo="{{areaInfo}}" currentDeliveryType="{{currentDeliveryType}}" data-event-opts="{{[['^clickGo',[['clickGo']]],['^saveArea',[['saveAreaSet']]]]}}" onClickGo="__e" onSaveArea="__e" onVueInit="__l"></a-receive-address></block></uni-popup><uni-popup onInput="__e" style="max-height:50%;" vue-id="3e611752-18" type="bottom" ref="__r" data-ref="selectTime" value="{{selectTime}}" data-event-opts="{{[['^input',[['__set_model',['','selectTime','$event',[]]]]]]}}" onVueInit="__l"><view class="confirm-selectTime-popup _div"><view class="leftNavsidebar _div"><view class="{{('homepageLeftFixed')}}" style="width:130px;"><block a:for="{{sidebarList}}" a:for-item="item" a:for-index="index" a:key="index"><view data-event-opts="{{[['tap',[['changeSider',[index]]]]]}}" class="{{(('homepageLeft')+' '+(index===currentIndex?'activeCanteen':''))}}" onTap="__e">{{''+item+''}}</view></block></view></view></view><block a:if="{{rightTimeList.length>0}}"><view class="rightTime _div"><radio-group data-event-opts="{{[['change',[['radioTimeFun',['$event']]]]]}}" onChange="__e"><block a:for="{{rightTimeList}}" a:for-item="item" a:for-index="index" a:key="index"><view border="{{false}}" class="_div"><ad-cell vue-id="{{('3e611752-19-'+index)+','+('3e611752-18')}}" text="{{item}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['rightTimeClick',['$0'],[[['rightTimeList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><radio value="{{item}}" checked="{{radioTime==item}}"></radio></ad-cell></view></block></radio-group></view></block></uni-popup><uni-popup vue-id="3e611752-20" type="bottom" ref="__r" data-ref="discountProgram" onVueInit="__l"><radio-group data-event-opts="{{[['change',[['setDiscountClick',['$event']]]]]}}" onChange="__e"><ad-cell vue-id="{{('3e611752-21')+','+('3e611752-20')}}" text="暂不使用" showArrow="false" data-event-opts="{{[['^click',[['DiscountClick',['undefined']]]]]}}" onClick="__e" onVueInit="__l"><radio style="display:inline-block;vertical-align:middle;margin-left:20px;" value="undefined" checked="{{'undefined'===radioDiscount}}"></radio></ad-cell><block a:for="{{DiscountList}}" a:for-item="item" a:for-index="index" a:key="index"><view class="_div"><ad-cell vue-id="{{('3e611752-22-'+index)+','+('3e611752-20')}}" text="{{item.PrefName}}" showArrow="false" showBottomLine="false" data-event-opts="{{[['^click',[['DiscountClick',['$0'],[[['DiscountList','',index]]]]]]]}}" onClick="__e" onVueInit="__l"><label style="margin-right:20px;" class="_span">{{"-¥"+(item.DiscPrice||0)}}</label><radio value="{{item.PrefNo}}" checked="{{item.PrefNo===radioDiscount}}"></radio></ad-cell></view></block></radio-group></uni-popup></view>