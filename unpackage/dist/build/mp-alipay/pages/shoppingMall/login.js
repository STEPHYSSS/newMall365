(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["pages/shoppingMall/login"],{"17e8":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n("4795")),r=(n("2f62"),n("57bb")),a=i(n("c1d6"));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,o,r,a,i){try{var u=t[a](i),c=u.value}catch(s){return void n(s)}u.done?e(c):Promise.resolve(c).then(o,r)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var a=t.apply(e,n);function i(t){u(a,o,r,i,c,"next",t)}function c(t){u(a,o,r,i,c,"throw",t)}i(void 0)}))}}var s=function(){n.e("components/ticketPopup/ticketPopup").then(function(){return resolve(n("3cb6"))}.bind(null,n)).catch(n.oe)},f={data:function(){return{homeSlide:[],myScore:"",location:{},classHome:getApp().globalData.mainStyle,loadding:!0,isMember:localStorage.getItem("isMember"),payTypePop:!0,getCoupon:[]}},computed:{},components:{ticketPop:s},onLoad:function(){var t=this;return c(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.getWxConfig();case 2:return t.loadding=!0,t.getCouponInfo(),e.next=6,t.getLunBoImg();case 6:return e.next=8,t.getScore();case 8:case"end":return e.stop()}}),e)})))()},methods:{getWxConfig:function(){var t=this;return c(o.default.mark((function e(){var n,i;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.vipCard)({Action:"GetJSSDK",Url:window.location.href},"UProdOpera");case 3:n=e.sent,i=n.Data,a.default.config({debug:!1,appId:i.SDK.appId,timestamp:i.SDK.timestamp,nonceStr:i.SDK.noncestr,signature:i.SDK.signature,jsApiList:["getLocation","scanQRCode"]}),a.default.ready((function(e){var n=t;a.default.getLocation({type:"gcj02",success:function(t){n.location={longitude:t.longitude,latitude:t.latitude},n.$store.commit("SET_CURRENT_LOCATION",n.location),sessionStorage.setItem("location",JSON.stringify(n.location))},cancel:function(t){this.$toast.fail(t)}}),a.default.error((function(t){this.$toast.fail("获取当前位置失败"),console.log("调用微信接口获取当前位置失败",t)}))})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getCouponInfo:function(){var t=this;return c(o.default.mark((function e(){var n,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.vipCard)({Action:"GiveCoupon"},"UPromotionOpera");case 3:n=e.sent,a=n.Data,t.getCoupon=a.TicketList?a.TicketList:[],e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},getLunBoImg:function(){var t=this;return c(o.default.mark((function e(){var n,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.vipCard)({Action:"GetImgList",Type:"4"},"UShopOpera");case 3:n=e.sent,a=n.Data,t.homeSlide=a.BannerList,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},takein:function(){this.$Router.push({path:"/pages/shoppingMall/menu_naixue/menu/menu"}),this.$store.state.orderType="takein"},takeout:function(){this.$Router.push({path:"/pages/myAddress/myAddress",query:{flag:"login"}}),this.$store.state.orderType="takeOut"},getScore:function(){var t=this;return c(o.default.mark((function e(){var n,a;return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,r.vipCard)({Action:"GetCardInfo",Type:"Home"},"WeChatCardOpera");case 3:n=e.sent,a=n.Data,t.myScore=a.Score,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},integrals:function(){this.$Router.push({path:"/pages/home"})},invite:function(){t.navigateTo({url:"/pages/shoppingMall/menu_naixue/invite"})},memberCode:function(){this.$Router.push({path:"/pages/vip/payCode",query:{flag:"paycode"}})}}};e.default=f}).call(this,n("c11b")["default"])},3951:function(t,e,n){},"55d3":function(t,e,n){"use strict";var o,r=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.homeSlide,(function(e,n){var o=t._f("fmtImgUrl")(e.Img);return{$orig:t.__get_orig(e),f0:o}})));t.$mp.data=Object.assign({},{$root:{l0:n}})},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}))},"5f8c":function(t,e,n){"use strict";var o=n("3951"),r=n.n(o);r.a},"819f":function(t,e,n){"use strict";(function(t){n("d977");o(n("66fd"));var e=o(n("c799"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("c11b")["createPage"])},c799:function(t,e,n){"use strict";n.r(e);var o=n("55d3"),r=n("f079");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("5f8c");var i,u=n("f0c5"),c=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"05777d90",null,!1,o["a"],i);e["default"]=c.exports},f079:function(t,e,n){"use strict";n.r(e);var o=n("17e8"),r=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=r.a}},[["819f","common/runtime","common/vendor"]]]);