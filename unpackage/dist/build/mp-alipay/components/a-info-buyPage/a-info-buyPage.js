;my.defineComponent || (my.defineComponent = Component);(my["webpackJsonp"]=my["webpackJsonp"]||[]).push([["components/a-info-buyPage/a-info-buyPage"],{"0715":function(t,e,o){"use strict";var i=o("ed7f"),s=o.n(i);s.a},"075a":function(t,e,o){"use strict";var i={uniCountdown:function(){return o.e("components/uni-countdown/uni-countdown").then(o.bind(null,"9599"))},wucTab:function(){return o.e("components/wuc-tab/wuc-tab").then(o.bind(null,"79ba"))},uniGoodsNav:function(){return o.e("components/uni-goods-nav/uni-goods-nav").then(o.bind(null,"e8ad"))},aShoppingShowSku:function(){return o.e("components/a-shopping-showSku/a-shopping-showSku").then(o.bind(null,"2378"))}},s=function(){var t=this,e=t.$createElement,o=(t._self._c,t.__map(t.goods.ImgList,(function(e,o){var i=t._f("fmtImgUrl")(e);return{$orig:t.__get_orig(e),f0:i}}))),i=t._f("setBuyTime")(t.goods.BuyTime),s=t._f("setBuyTime")(t.goods.ActivityDate),n=t._f("setMoney")(t.goods.SaleCnt),a=Number(t.goods.StoreQty),r=Number(t.goods.CommentCnt),u=t.__map(t.userList,(function(e,o){var i=t._f("setName")(e.NickName);return{$orig:t.__get_orig(e),f4:i}}));t.$mp.data=Object.assign({},{$root:{l0:o,f1:i,f2:s,f3:n,m0:a,m1:r,l1:u}})},n=[];o.d(e,"b",(function(){return s})),o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i}))},"458a":function(t,e,o){"use strict";o.r(e);var i=o("d628"),s=o.n(i);for(var n in i)"default"!==n&&function(t){o.d(e,t,(function(){return i[t]}))}(n);e["default"]=s.a},c697:function(t,e,o){"use strict";o.r(e);var i=o("075a"),s=o("458a");for(var n in s)"default"!==n&&function(t){o.d(e,t,(function(){return s[t]}))}(n);o("0715");var a,r=o("f0c5"),u=Object(r["a"])(s["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);e["default"]=u.exports},d628:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(o("4795")),s=o("657b"),n=o("57bb"),a=o("6af0");function r(t){return t&&t.__esModule?t:{default:t}}function u(t,e,o,i,s,n,a){try{var r=t[n](a),u=r.value}catch(c){return void o(c)}r.done?e(u):Promise.resolve(u).then(i,s)}function c(t){return function(){var e=this,o=arguments;return new Promise((function(i,s){var n=t.apply(e,o);function a(t){u(n,i,s,a,r,"next",t)}function r(t){u(n,i,s,a,r,"throw",t)}a(void 0)}))}}var h=function(){o.e("node-modules/adcell/ADCell").then(function(){return resolve(o("1420"))}.bind(null,o)).catch(o.oe)},d=function(){o.e("components/a-shopping-showSku/a-shopping-showTicket").then(function(){return resolve(o("f819"))}.bind(null,o)).catch(o.oe)},p={name:"couponPage",components:{adCell:h,showTicket:d},props:{goods:{type:Object,default:function(){return{Name:"名字",price:0,maxPrice:100,Deal:"100",ImgList:["https://img.yzcdn.cn/public_files/2017/10/24/e5a5a02309a41f9f5def56684808d9ae.jpeg","https://img.yzcdn.cn/public_files/2017/10/24/1791ba14088f9c2be8c610d0a6cc0f93.jpeg"]}}},skuDataInfo:{type:Object,default:function(){return{}}},isIntegral:{type:String,default:"false"},seckill:{type:String,default:function(){return""}},isBrowse:{type:String,default:function(){return""}},clickUrl:[String]},data:function(){return{classHome:getApp().globalData.mainStyle,active:"",show:!1,showPop:!1,isAddCart:!0,classA:"",timeCountDown:"",endActive:!1,startIS:!1,userList:[],TabCur:0,tabList:[{name:"商品详情"},{name:"最近成交"}],options:[],buttonGroup:[],activeTimeMy:{},maxPrice:"",minPrice:"",maxMemberPrice:"",minMemberPrice:"",IsGoodBuyTime:!1}},created:function(){if(this.goods.ImgList=this.goods.ImgList?this.goods.ImgList.split(","):[],this.goods.ImgList.unshift(this.goods.Img),this.goods.Features=this.goods.Features?a.Base64.decode(this.goods.Features):"",this.goods.ImportantNotes=this.goods.ImportantNotes?a.Base64.decode(this.goods.ImportantNotes):"",this.goods.Features=l(this.goods.Features,this),this.goods.ImportantNotes=l(this.goods.ImportantNotes,this),"true"==this.isIntegral||this.isCouponPage||this.seckill||this.skuDataInfo.SpecList&&(this.maxPrice=Math.max.apply(Math,this.skuDataInfo.SpecList.map((function(t){return Number(t.SalePrice)}))),this.minPrice=Math.min.apply(Math,this.skuDataInfo.SpecList.map((function(t){return Number(t.SalePrice)}))),this.maxMemberPrice=Math.max.apply(Math,this.skuDataInfo.SpecList.map((function(t){return Number(t.MemberPrice)}))),this.minMemberPrice=Math.min.apply(Math,this.skuDataInfo.SpecList.map((function(t){return Number(t.MemberPrice)})))),this.tradeList(),this.skuDataInfo.ProdInfo.BuyTime){var t=this.skuDataInfo.ProdInfo.BuyTime.split(",");this.IsGoodBuyTime=this.isDuringDate(t[0],t[1])}else this.IsGoodBuyTime=!0;"true"==this.isIntegral||this.isCouponPage||this.seckill||(this.buttonGroup.push({text:"加入购物车",backgroundColor:"#ffa200",color:"#fff",borderRadius:"25px 0 0 25px",isbuy:this.skuDataInfo.IsBuy,disabled:"0"===this.skuDataInfo.IsBuy||"0"!=this.goods.StockType&&this.goods.StoreQty<="0"}),this.options.push({icon:"cart",text:"购物车"})),"true"==this.isIntegral||this.isCouponPage||this.seckill||this.buttonGroup.push({text:"立即购买",backgroundColor:getApp().globalData.mainColor,color:"#fff",borderRadius:"0 25px 25px 0",isbuy:this.skuDataInfo.IsBuy,disabled:"0"===this.skuDataInfo.IsBuy||"0"!=this.goods.StockType&&this.goods.StoreQty<="0"}),("true"==this.isIntegral||this.isCouponPage||this.seckill)&&this.buttonGroup.push({text:"立即抢购",backgroundColor:getApp().globalData.mainColor,color:"#fff",borderRadius:"25px",disabled:"0"===this.skuDataInfo.IsBuy||0==this.goods.StoreQty||!0!==this.startIS})},mounted:function(){this.classA={height:t.getSystemInfoSync().windowWidth+"px"}},computed:{isCouponPage:function(){return"/shoppingMall/couponPage/:id"===this.$route.matched[0].path||!1}},methods:{isDuringDate:function(t,e){var o=new Date,i=o.getFullYear(),s=o.getMonth()+1,n=o.getDate();s<10&&(s="0"+s),n<10&&(n="0"+n);var a=i+"-"+s+"-"+n,r=o.getHours();r=r<10?"0"+r:r;var u=o.getMinutes(),c=o.getSeconds();u=u<10?"0"+u:u,c=c<10?"0"+c:c;var h=i+"-"+s+"-"+n+" "+r+":"+u+":"+c,d=a+" "+t,p=a+" "+e;return h>=d&&h<=p},clickShop:function(){this.isBrowse||this.$Router.push({path:"/pages/shoppingMall/index"})},userEvaluation:function(t){if(!this.isBrowse){var e=t.CommentCnt;e&&Number(e)>0&&this.$Router.push({path:"/pages/shoppingMall/evaluation/goodEvaluationList",query:{id:t.SID}})}},addCart:function(t){"立即抢购"===t.content.text?this.orderNow():(this.show=!0,this.isAddCart=!0)},jumpCart:function(){this.isBrowse||this.$Router.pushTab({path:"/pages/shoppingMall/shoppingCart/index"})},orderNow:function(){if(this.isCouponPage||"true"==this.isIntegral){var t=[{ProdSID:this.goods.SID,ProdNo:this.goods.ProdNo,BuyCnt:1}],e=this.isIntegral?{isIntegral:"1"}:{};this.$store.commit("SET_CURRENT_CARD",t),this.$Router.push({path:"/pages/shoppingMall/order/confirmOrder",query:e})}else this.show=!0,this.isAddCart=!1},hideShow:function(){this.show=!1},buyNow:function(){this.showPop=!0},hidePop:function(){this.showPop=!1},finishTimer:function(){var t=this;setTimeout((function(){t.getTimeout()}),1e3)},tradeList:function(){var t=this;return c(i.default.mark((function e(){var o,s;return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.vipCard)({Action:"GetNewDeal",ProdType:t.goods.ProdType,ProdSID:t.goods.SID},"UProdOpera");case 3:o=e.sent,s=o.Data,t.userList=s.CommentList,t.getTimeout(),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getTimeout:function(t){var e=(new Date).getTime(),o=new Date(this.goods.EndDate.replace(/-/g,"/")).getTime(),i=new Date(this.goods.StartDate.replace(/-/g,"/")).getTime();this.startIS=!(i-e>=0)&&(o-e>0||"end");var s=this.startIS?o-e:i-e,n=s;this.activeTimeMy={day:parseInt(n/864e5),hours:parseInt(n%864e5/36e5),minute:parseInt(n%36e5/6e4),second:parseInt(n%6e4/1e3)},this.seckill&&(this.buttonGroup[0].disabled="0"===this.skuDataInfo.IsBuy||0==this.goods.StoreQty||!0!==this.startIS)}}};function l(t,e){var o="",i="";if(!t)return"";var n=(0,s.GetBaseImgUrl)();return i=t.replace(/<img/g,"<img style='max-width:100%;height:auto;'"),o=i.replace(/src="Files/g,'src="'.concat(n,"../Files")),o}e.default=p}).call(this,o("c11b")["default"])},ed7f:function(t,e,o){}}]);
;(my["webpackJsonp"] = my["webpackJsonp"] || []).push([
    'components/a-info-buyPage/a-info-buyPage-create-component',
    {
        'components/a-info-buyPage/a-info-buyPage-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('c11b')['createComponent'](__webpack_require__("c697"))
        })
    },
    [['components/a-info-buyPage/a-info-buyPage-create-component']]
]);
