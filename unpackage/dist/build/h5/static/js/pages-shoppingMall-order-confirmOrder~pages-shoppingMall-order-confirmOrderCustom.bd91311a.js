(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shoppingMall-order-confirmOrder~pages-shoppingMall-order-confirmOrderCustom"],{"01a4":function(t,e,a){"use strict";a.r(e);var i=a("f741"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},"2b11":function(t,e,a){"use strict";var i,r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nodeData"},[i("div",{staticStyle:{"text-align":"center"}},[i("div",{staticStyle:{width:"150px",height:"150px",margin:"auto"}},[i("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("bcf6").replace(/^\./,""),alt:""}})],1),i("span",{staticClass:"stringVal"},[t._v(t._s(t.stringVal))])])])},n=[];a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}))},"3b96":function(t,e,a){"use strict";var i=a("ee27");a("c975"),a("a9e3"),a("ac1f"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var r=i(a("c964")),n=a("57bb"),s=i(a("afed")),o=a("657b"),c=i(a("1420")),l=i(a("c1d6")),d={name:"index",components:{adCell:c.default},props:{areaInfo:[Object],currentDeliveryType:[String,Number]},data:function(){return{specificArea:!1,logisticsArea:!1,isAdd:!1,form:{Sex:0},location:{},areaList:s.default,disabledLoad:!1,specificAreaHead:!1,cityPickerValueDefault:[0,0,1]}},created:function(){if(this.getWxConfig(),this.DeliveryType=this.currentDeliveryType.indexOf("2")>-1?2:3,"{}"!==JSON.stringify(this.areaInfo)){this.form=JSON.parse(JSON.stringify(this.areaInfo)),this.form.Defaults="1"===this.form.Defaults;var t=this.form.Sex.replace(/\s*/g,"");this.form.Sex="先生"===t?"0":"1",this.location={latitude:this.areaInfo.Latitude,longitude:this.areaInfo.Longitude}}else this.location=this.$store.state.currentLocation;var e=this;window.addEventListener("message",(function(t){var a=t.data;a&&"locationPicker"==a.module&&(e.$refs.specificArea&&e.$refs.specificArea.close(),e.$nextTick((function(){e.specificArea=!1,e.specificAreaHead=!1,e.$set(e.form,"Address",a.poiname),e.$set(e.form,"Latitude",a.latlng.lat),e.$set(e.form,"Longitude",a.latlng.lng)})))}),!1)},methods:{getWxConfig:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,n.vipCard)({Action:"GetJSSDK",Url:window.location.href},"UProdOpera");case 3:a=e.sent,i=a.Data,l.default.config({debug:!1,appId:i.SDK.appId,timestamp:i.SDK.timestamp,nonceStr:i.SDK.noncestr,signature:i.SDK.signature,jsApiList:["getLocation","openAddress","scanQRCode"]}),l.default.ready((function(e){var a=t;l.default.getLocation({type:"gcj02",success:function(t){a.location.latitude=t.latitude,a.location.longitude=t.longitude,this.$store.commit("SET_CURRENT_LOCATION",this.location)},cancel:function(t){this.$toast.fail(t)}}),l.default.error((function(t){this.$toast.fail(t),console.log("调用微信接口获取当前位置失败",t)}))})),e.next=11;break;case 9:e.prev=9,e.t0=e["catch"](0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})))()},getWxAddress:function(){var t=this;l.default.openAddress({success:function(e){t.form.Name=e.userName,t.form.Mobile=e.telNumber},cancel:function(t){this.$toast.fail(t)}})},clickGo:function(){this.specificAreaHead?(this.specificArea=!1,this.specificAreaHead=!1,this.$refs.specificArea.close()):this.$emit("clickGo")},radioChangeSex:function(t){this.form.Sex=t.detail.value},switchChange:function(t){this.form.Defaults=t.detail.value},clickGoAddress:function(){},tenxButton:function(){2===Number(this.DeliveryType)?(this.specificArea=!0,this.$refs.specificArea.open(),this.specificAreaHead=!0):(this.logisticsArea=!0,this.$refs.logisticsArea.open())},confirmArea:function(t){this.logisticsArea=!1,this.$refs.logisticsArea.close(),this.form.Address=t.label,this.form.Type=2,this.form.Province=t.labelArr[0],this.form.City=t.labelArr[1],this.form.District=t.labelArr[2]},saveArea:function(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.form.Address){e.next=3;break}return t.$toast("选择地址"),e.abrupt("return");case 3:if(t.form.House){e.next=6;break}return t.$toast("填写门牌号"),e.abrupt("return");case 6:if(t.form.Name){e.next=9;break}return t.$toast("填写联系人"),e.abrupt("return");case 9:if(t.form.Mobile){e.next=14;break}return t.$toast("填写手机号"),e.abrupt("return");case 14:if((0,o.checkMobile)(t.form.Mobile)){e.next=17;break}return t.$toast("手机号格式错误"),e.abrupt("return");case 17:return t.disabledLoad=!0,t.form.Type=t.form.Type?t.form.Type:1,e.prev=19,a={Action:"SetAddress"},Object.assign(a,t.form),a.Defaults=!0===a.Defaults?1:0,e.next=25,(0,n.vipCard)(a,"UMemberOpera");case 25:i=e.sent,i.Data,t.$emit("saveArea"),t.disabledLoad=!1,e.next=34;break;case 31:e.prev=31,e.t0=e["catch"](19),t.disabledLoad=!1;case 34:case"end":return e.stop()}}),e,null,[[19,31]])})))()},bindAddress:function(t){var e=this;e.$refs.specificArea&&e.$refs.specificArea.close(),e.$nextTick((function(){e.specificArea=!1,e.specificAreaHead=!1,e.$set(e.form,"Address",t.address),e.$set(e.form,"Latitude",t.location.lat),e.$set(e.form,"Longitude",t.location.lng)}))}}};e.default=d},"5b90":function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".priceSty[data-v-641d2950]{color:#635555;font-size:13px;padding-right:10px;display:inline-block}.sumPriceSty[data-v-641d2950]{padding-right:5px;display:inline-block;font-size:15px}.bottom-submit-style[data-v-641d2950]{position:fixed;bottom:0;left:0;z-index:100;width:100%;background-color:#fff;-webkit-user-select:none;user-select:none}.bottom-submit-style__bar[data-v-641d2950]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;height:50px;font-size:14px}.bottom-submit-style__fare[data-v-641d2950]{margin-right:5px;font-size:10px;color:#999!important}.bottom-submit-style__text[data-v-641d2950]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-right:12px;color:#323233;font-weight:500;text-align:right}.bottom-submit-style__price[data-v-641d2950]{color:#f44;font-size:18px}.bottom-submit-style__button[data-v-641d2950]{padding:0 36px;line-height:38px}",""]),t.exports=e},"5fd7":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"index",props:{stringVal:{type:String,default:"暂无数据"}}};e.default=i},"6fd3":function(t,e,a){"use strict";var i=a("adb8"),r=a.n(i);r.a},"77bb":function(t,e,a){"use strict";a.r(e);var i=a("b32a"),r=a("01a4");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("6fd3");var s,o=a("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"641d2950",null,!1,i["a"],s);e["default"]=c.exports},8247:function(t,e,a){"use strict";a.r(e);var i=a("d1d1"),r=a("8f77");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("b089");var s,o=a("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"8edb6896",null,!1,i["a"],s);e["default"]=c.exports},"8b8b":function(t,e,a){var i=a("f488");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("394b7ed6",i,!0,{sourceMap:!1,shadowMode:!1})},"8f77":function(t,e,a){"use strict";a.r(e);var i=a("3b96"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},adb8:function(t,e,a){var i=a("5b90");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("64ccebb0",i,!0,{sourceMap:!1,shadowMode:!1})},b089:function(t,e,a){"use strict";var i=a("8b8b"),r=a.n(i);r.a},b32a:function(t,e,a){"use strict";var i,r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"bottom-submit-style"},[a("div",{staticClass:"bottom-submit-style__bar",staticStyle:{display:"flex"}},[a("v-uni-checkbox-group",{on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.checkAll.apply(void 0,arguments)}}},[t.isOrder?t._e():a("v-uni-checkbox",{staticStyle:{"margin-left":"10px"},attrs:{color:t.mainColor,value:"true",checked:t.result}},[t._v("全选")])],1),a("div",{staticClass:"bottom-submit-style__text",style:{opacity:t.batchState?0:1}},[t.isOrder?t._e():a("span",{staticClass:"bottom-submit-style__fare"},[t._v("不含运费")]),t.isOrder?a("div",[a("p",[a("span",{staticClass:"priceSty"},[t._v("优惠 ¥ "+t._s(t.sumPrice))]),a("span",{staticClass:"sumPriceSty"},[t._v("合计")]),a("span",{staticClass:"bottom-submit-style__price"},[t._v("¥ "+t._s(t.objPrice.total))])])]):a("div",{staticStyle:{display:"inline-block"}},[t._v("合计："),a("div",{staticClass:"bottom-submit-style__price",staticStyle:{display:"inline-block"}},[t.scoreTatal?a("span",[t._v(t._s(t._f("spliceNum")(t.scoreTatal))+"积分")]):t._e(),a("span",[t._v(t._s(t.allMoney>0&&t.scoreTatal?"+":"")+"¥"+t._s(t.allMoney))])])])]),a("div",{staticStyle:{"margin-right":"6px"}},[t.batchState?t._e():a("v-uni-button",{staticClass:"bottom-submit-style__button",attrs:{type:"yellow",round:!0,disabled:t.disabledIntegral},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submitMoney.apply(void 0,arguments)}}},[t._v("结算")]),t.batchState?a("v-uni-button",{attrs:{size:"small",type:"red"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.delButton.apply(void 0,arguments)}}},[t._v("删除")]):t._e()],1)],1)])},n=[];a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}))},bcf6:function(t,e,a){t.exports=a.p+"static/img/nodeData.e395053f.png"},c71c:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,".nodeData-fa[data-v-b4b5762e]{text-align:center}.nodeData[data-v-b4b5762e]{text-align:center;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.stringVal[data-v-b4b5762e]{display:inline-block;white-space:nowrap;font-size:15px;margin-top:10px;color:#777}",""]),t.exports=e},d1d1:function(t,e,a){"use strict";var i={uniNavBar:a("44c0").default,uniPopup:a("a329").default,simpleAddress:a("23fe").default},r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("uni-nav-bar",{attrs:{fixed:!0,"left-icon":"back",title:t.specificAreaHead?"选择收货地址":"收货地址","status-bar":!0,shadow:!1},on:{clickLeft:function(e){arguments[0]=e=t.$handleEvent(e),t.clickGo.apply(void 0,arguments)}}}),a("div",[a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"联系人",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请填写收货人的姓名"},model:{value:t.form.Name,callback:function(e){t.$set(t.form,"Name",e)},expression:"form.Name"}}),a("v-uni-text",{staticClass:"iconfont icon-tongxunlu",staticStyle:{position:"absolute",right:"30px",top:"15px"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.getWxAddress.apply(void 0,arguments)}}})],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"性别",showArrow:"false"}},[a("v-uni-view",{staticClass:"radio-group"},[a("v-uni-view",{staticClass:"radio",class:{checked:!t.form.Sex},staticStyle:{"margin-right":"10rpx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.form.Sex=0}}},[t._v("先生")]),a("v-uni-view",{staticClass:"radio",class:{checked:t.form.Sex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.form.Sex=1}}},[t._v("女士")])],1)],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"手机号",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请填写收货人手机号码"},model:{value:t.form.Mobile,callback:function(e){t.$set(t.form,"Mobile",e)},expression:"form.Mobile"}})],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"收货地址",showArrow:"false"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.tenxButton.apply(void 0,arguments)}}},[a("span",[t._v(t._s(t.form.Address?t.form.Address:"点击选择"))])])],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"门牌号",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"详细地址，例：15号楼5层301室"},model:{value:t.form.House,callback:function(e){t.$set(t.form,"House",e)},expression:"form.House"}})],1)],1),a("div",{staticClass:"setADcell setWidth"},[a("adCell",{attrs:{text:"设置为默认地址",showArrow:"false"}},[a("v-uni-switch",{attrs:{checked:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.switchChange.apply(void 0,arguments)}},model:{value:t.form.Defaults,callback:function(e){t.$set(t.form,"Defaults",e)},expression:"form.Defaults"}})],1)],1)]),a("div",{staticStyle:{"margin-top":"50px",padding:"0 20px"}},[a("v-uni-button",{attrs:{type:"main",size:"large",disabled:t.disabledLoad},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.saveArea.apply(void 0,arguments)}}},[t._v("保存地址")])],1),a("uni-popup",{ref:"specificArea",staticClass:"confirm-area-popup",staticStyle:{"margin-top":"50px"}},[a("iframe",{staticStyle:{"margin-top":"50px"},attrs:{id:"mapPage",width:"100%",height:"100%",frameborder:"0",src:"https://apis.map.qq.com/tools/locpicker?search=1&type=1&policy=1&coord="+t.location.latitude+","+t.location.longitude+"&key=IB5BZ-HF53W-5KLRH-R3VUL-35KO7-Y2BUT&referer=365商城管理"}})]),a("simple-address",{ref:"logisticsArea",attrs:{pickerValueDefault:t.cityPickerValueDefault,cancelColor:"#999",themeColor:"#007AFF"},on:{onConfirm:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmArea.apply(void 0,arguments)}}})],1)},n=[];a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){return i}))},e49a:function(t,e,a){"use strict";var i=a("f935"),r=a.n(i);r.a},eecb:function(t,e,a){"use strict";a.r(e);var i=a("5fd7"),r=a.n(i);for(var n in i)"default"!==n&&function(t){a.d(e,t,(function(){return i[t]}))}(n);e["default"]=r.a},f488:function(t,e,a){var i=a("24fb");e=i(!1),e.push([t.i,"[data-v-8edb6896] .uni-popup__wrapper-box{width:100%}\n/* 覆盖样式修改颜色 */[data-v-8edb6896] uni-switch .uni-switch-input.uni-switch-input-checked{background-color:#adb838!important;border-color:#adb838!important}.setWidth[data-v-8edb6896] .headView{width:118px}.radio-group[data-v-8edb6896]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.radio-group .radio[data-v-8edb6896]{padding:%?10?% %?30?%;border-radius:%?6?%;border:1px solid #ccc;margin-right:6px}.radio-group .radio.checked[data-v-8edb6896]{background-color:#adb838;color:#fff;border:1px solid #adb838}",""]),t.exports=e},f6d5:function(t,e,a){"use strict";a.r(e);var i=a("2b11"),r=a("eecb");for(var n in r)"default"!==n&&function(t){a.d(e,t,(function(){return r[t]}))}(n);a("e49a");var s,o=a("f0c5"),c=Object(o["a"])(r["default"],i["b"],i["c"],!1,null,"b4b5762e",null,!1,i["a"],s);e["default"]=c.exports},f741:function(t,e,a){"use strict";a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={name:"index",props:{batchState:[Boolean],allMoney:[String,Number],scoreTatal:[String,Number],isType:[String,Number],isOrder:{type:Boolean,default:!1},allResult:{type:Boolean,default:!1},isIntegral:[String],cardInfo:[Object],objPrice:[Object]},data:function(){return{result:this.allResult,disabledIntegral:!1,mainColor:getApp().globalData.mainColor,money:0}},computed:{sumPrice:function(){return this.money=Number(this.objPrice.DiscPrice)+Number(this.objPrice.TicketPrice),this.money}},created:function(){console.log(this.objPrice,"jiage"),this.isIntegral&&this.cardInfo&&(this.disabledIntegral=Number(this.cardInfo.Score)<Number(this.scoreTatal))},methods:{checkAll:function(t){var e=t.detail.value.length>0;this.$emit("checkAll",!e)},submitMoney:function(){this.$emit("submitMoney")},delButton:function(){this.$emit("delButton")}},watch:{allResult:function(t){this.result=t}}};e.default=i},f935:function(t,e,a){var i=a("c71c");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var r=a("4f06").default;r("7c0393de",i,!0,{sourceMap:!1,shadowMode:!1})}}]);