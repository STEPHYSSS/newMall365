(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-shoppingMall-order-confirmOrderCustom","pages-shoppingMall-order-confirmOrder~pages-shoppingMall-shoppingCart-index"],{"01a4":function(e,t,a){"use strict";a.r(t);var r=a("f741"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},1900:function(e,t,a){"use strict";var r=a("c765"),i=a.n(r);i.a},"2b11":function(e,t,a){"use strict";var r,i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nodeData"},[r("div",{staticStyle:{"text-align":"center"}},[r("div",{staticStyle:{width:"150px",height:"150px",margin:"auto"}},[r("v-uni-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:a("bcf6").replace(/^\./,""),alt:""}})],1),r("span",{staticClass:"stringVal"},[e._v(e._s(e.stringVal))])])])},n=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},"30be":function(e,t,a){"use strict";a.r(t);var r=a("caf5"),i=a("6a50");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("cb09");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"3bff0761",null,!1,r["a"],o);t["default"]=c.exports},"30cc":function(e,t,a){var r=a("37fa");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("49461ba6",r,!0,{sourceMap:!1,shadowMode:!1})},"37fa":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".active[data-v-0a25e295]{height:80px!important}.priceSty[data-v-0a25e295]{color:#635555;font-size:13px;padding-right:10px;display:inline-block}.sumPriceSty[data-v-0a25e295]{padding-right:5px;display:inline-block;font-size:15px}.bottom-submit-style[data-v-0a25e295]{position:fixed;bottom:0;left:0;z-index:100;width:100%;background-color:#fff;-webkit-user-select:none;user-select:none}.bottom-submit-style__bar[data-v-0a25e295]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;height:50px;font-size:14px}.bottom-submit-style__fare[data-v-0a25e295]{margin-right:5px;font-size:10px;color:#999!important}.bottom-submit-style__text[data-v-0a25e295]{-webkit-box-flex:1;-webkit-flex:1;flex:1;padding-right:12px;color:#323233;font-weight:500;text-align:right}.bottom-submit-style__price[data-v-0a25e295]{color:#f44;font-size:18px}.bottom-submit-style__button[data-v-0a25e295]{padding:0 36px;line-height:38px}",""]),e.exports=t},"3b96":function(e,t,a){"use strict";var r=a("ee27");a("c975"),a("a9e3"),a("ac1f"),a("5319"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=r(a("c964")),n=a("57bb"),o=r(a("241d")),s=r(a("afed")),c=a("657b"),l=r(a("1420")),d=r(a("c1d6")),u={mixins:[o.default],name:"index",components:{adCell:l.default},props:{areaInfo:[Object],currentDeliveryType:[String,Number]},data:function(){return{specificArea:!1,logisticsArea:!1,isAdd:!1,form:{Sex:0},location:{},areaList:s.default,disabledLoad:!1,specificAreaHead:!1,cityPickerValueDefault:[0,0,1]}},created:function(){if(this.getWxConfig(),this.DeliveryType=this.currentDeliveryType.indexOf("2")>-1?2:3,"{}"!==JSON.stringify(this.areaInfo)){this.form=JSON.parse(JSON.stringify(this.areaInfo)),this.form.Defaults="1"===this.form.Defaults;var e=this.form.Sex.replace(/\s*/g,"");this.form.Sex="先生"===e?"0":"1",this.location={latitude:this.areaInfo.Latitude,longitude:this.areaInfo.Longitude}}else this.location=this.$store.state.currentLocation;var t=this;window.addEventListener("message",(function(e){var a=e.data;a&&"locationPicker"==a.module&&(t.$refs.specificArea&&t.$refs.specificArea.close(),t.$nextTick((function(){t.specificArea=!1,t.specificAreaHead=!1,t.$set(t.form,"Address",a.poiname),t.$set(t.form,"Latitude",a.latlng.lat),t.$set(t.form,"Longitude",a.latlng.lng)})))}),!1)},methods:{getWxAddress:function(){var e=this;d.default.openAddress({success:function(t){e.form.Name=t.userName,e.form.Mobile=t.telNumber},cancel:function(e){this.$toast.fail(e)}})},clickGo:function(){this.specificAreaHead?(this.specificArea=!1,this.specificAreaHead=!1,this.$refs.specificArea.close()):this.$emit("clickGo")},radioChangeSex:function(e){this.form.Sex=e.detail.value},switchChange:function(e){this.form.Defaults=e.detail.value},clickGoAddress:function(){},tenxButton:function(){2===Number(this.DeliveryType)?(this.specificArea=!0,this.$refs.specificArea.open(),this.specificAreaHead=!0):(this.logisticsArea=!0,this.$refs.logisticsArea.open())},confirmArea:function(e){this.logisticsArea=!1,this.$refs.logisticsArea.close(),this.form.Address=e.label,this.form.Type=2,this.form.Province=e.labelArr[0],this.form.City=e.labelArr[1],this.form.District=e.labelArr[2]},saveArea:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.form.Address){t.next=3;break}return e.$toast("选择地址"),t.abrupt("return");case 3:if(e.form.House){t.next=6;break}return e.$toast("填写门牌号"),t.abrupt("return");case 6:if(e.form.Name){t.next=9;break}return e.$toast("填写联系人"),t.abrupt("return");case 9:if(e.form.Mobile){t.next=14;break}return e.$toast("填写手机号"),t.abrupt("return");case 14:if((0,c.checkMobile)(e.form.Mobile)){t.next=17;break}return e.$toast("手机号格式错误"),t.abrupt("return");case 17:return e.disabledLoad=!0,e.form.Type=e.form.Type?e.form.Type:1,t.prev=19,a={Action:"SetAddress"},Object.assign(a,e.form),a.Defaults=!0===a.Defaults?1:0,t.next=25,(0,n.vipCard)(a,"UMemberOpera");case 25:r=t.sent,r.Data,e.$emit("saveArea"),e.disabledLoad=!1,t.next=34;break;case 31:t.prev=31,t.t0=t["catch"](19),e.disabledLoad=!1;case 34:case"end":return t.stop()}}),t,null,[[19,31]])})))()},bindAddress:function(e){var t=this;t.$refs.specificArea&&t.$refs.specificArea.close(),t.$nextTick((function(){t.specificArea=!1,t.specificAreaHead=!1,t.$set(t.form,"Address",e.address),t.$set(t.form,"Latitude",e.location.lat),t.$set(t.form,"Longitude",e.location.lng)}))}}};t.default=u},4089:function(e,t,a){var r=a("f537");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("74d09da8",r,!0,{sourceMap:!1,shadowMode:!1})},"5ebe":function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,"[data-v-8828abe2] .uni-popup__wrapper-box{width:100%}\n/* 覆盖样式修改颜色 */[data-v-8828abe2] uni-switch .uni-switch-input.uni-switch-input-checked{background-color:#adb838!important;border-color:#adb838!important}.setWidth[data-v-8828abe2] .headView{width:118px}.radio-group[data-v-8828abe2]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start}.radio-group .radio[data-v-8828abe2]{padding:%?10?% %?30?%;border-radius:%?6?%;border:1px solid #ccc;margin-right:6px}.radio-group .radio.checked[data-v-8828abe2]{background-color:#adb838;color:#fff;border:1px solid #adb838}",""]),e.exports=t},"5fd7":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"index",props:{stringVal:{type:String,default:"暂无数据"}}};t.default=r},"643b":function(e,t,a){"use strict";a.r(t);var r=a("85e9"),i=a("c23d");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("1900");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"66674604",null,!1,r["a"],o);t["default"]=c.exports},"6a50":function(e,t,a){"use strict";a.r(t);var r=a("6c2f"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"6c2f":function(e,t,a){"use strict";a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={name:"Modal",props:{show:{type:Boolean,default:!1},custom:{type:Boolean,default:!1},width:{type:String,default:"84%"},padding:{type:String,default:"40rpx"},radius:{type:String,default:"24rpx"},title:{type:String,default:""},content:{type:String,default:""},color:{type:String,default:"#999"},size:{type:Number,default:28},shape:{type:String,default:"square"},button:{type:Array,default:function(){return[{text:"取消",type:"red",plain:!0},{text:"确定",type:"red",plain:!1}]}},maskClosable:{type:Boolean,default:!0},fadein:{type:Boolean,default:!1}},data:function(){return{}},methods:{handleClick:function(e){if(this.show){var t=e.currentTarget.dataset;this.$emit("click",{index:Number(t.index)})}},handleClickCancel:function(){this.maskClosable&&this.$emit("cancel")}}};t.default=r},"6edd":function(e,t,a){"use strict";var r,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bottom-submit-style"},[a("div",{staticClass:"bottom-submit-style__bar",class:{active:e.isActive},staticStyle:{display:"flex"}},[a("v-uni-checkbox-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.checkAll.apply(void 0,arguments)}}},[e.isOrder?e._e():a("v-uni-checkbox",{staticStyle:{"margin-left":"10px"},attrs:{color:e.mainColor,value:"true",checked:e.result}},[e._v("全选")])],1),a("div",{staticClass:"bottom-submit-style__text",style:{opacity:e.batchState?0:1}},[e.isOrder?e._e():a("span",{staticClass:"bottom-submit-style__fare"},[e._v("不含运费")]),e.isOrder?a("div",[a("p",[a("span",{staticClass:"sumPriceSty"},[e._v("合计")]),a("span",{staticClass:"bottom-submit-style__price"},[e._v("¥ "+e._s(e.objPrice.total))])])]):a("div",{staticStyle:{display:"inline-block"}},[e._v("合计："),a("div",{staticClass:"bottom-submit-style__price",staticStyle:{display:"inline-block"}},[e.scoreTatal?a("span",[e._v(e._s(e._f("spliceNum")(e.scoreTatal))+"积分")]):e._e(),a("span",[e._v(e._s(e.allMoney>0&&e.scoreTatal?"+":"")+"¥"+e._s(e.allMoney))])])])]),a("div",{staticStyle:{"margin-right":"6px"}},[e.batchState?e._e():a("v-uni-button",{staticClass:"bottom-submit-style__button",attrs:{type:"yellow",round:!0,disabled:e.disabledIntegral},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.submitMoney.apply(void 0,arguments)}}},[e._v("结算")]),e.batchState?a("v-uni-button",{attrs:{size:"small",type:"red"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.delButton.apply(void 0,arguments)}}},[e._v("删除")]):e._e()],1)],1)])},n=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},"77bb":function(e,t,a){"use strict";a.r(t);var r=a("6edd"),i=a("01a4");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("8f41");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"0a25e295",null,!1,r["a"],o);t["default"]=c.exports},8247:function(e,t,a){"use strict";a.r(t);var r=a("9976"),i=a("8f77");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("a468");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"8828abe2",null,!1,r["a"],o);t["default"]=c.exports},"85e9":function(e,t,a){"use strict";var r={uniNavBar:a("44c0").default,aNodeData:a("f6d5").default,uniIcons:a("6508").default,aGoodLineBox:a("a0c4").default,aBottomSubmit:a("77bb").default,uniPopup:a("a329").default,aReceiveAddress:a("8247").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"confirm-order-style",class:e.mainStyle},[a("uni-nav-bar",{attrs:{fixed:!0,"left-icon":"back",title:"确认订单","status-bar":!0,shadow:!1},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.clickLeft.apply(void 0,arguments)}}}),e.loading||0!==e.prodList.length?e._e():a("a-nodeData",{attrs:{stringVal:"获取数据失败"}}),e.prodList.length>0?a("div",[e.$Route.query.isIntegral?e._e():a("div",{staticClass:"indexTop colorStyle"},[e.currentDeliveryType.indexOf("2")>-1||e.currentDeliveryType.indexOf("3")>-1?a("div",{class:["changeMode","changeModeLeft",2===e.radioModes?"borderColor":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeMode(2)}}},[2===e.radioModes?a("span",{staticClass:"iconfont icon-xuanzhong changeTopIcon"}):e._e(),a("v-uni-image",{staticClass:"changeModeImg",attrs:{src:"/static/assets/img/Pack.png"}}),a("span",[e._v(e._s(e.currentDeliveryType.indexOf("2")>-1?"外卖配送":"物流配送"))])],1):e._e(),e.currentDeliveryType.indexOf("1")>-1?a("div",{class:["changeMode","changeModeRight",1===e.radioModes?"borderColor":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeMode(1)}}},[1===e.radioModes?a("span",{staticClass:"iconfont icon-xuanzhong changeTopIcon"}):e._e(),a("v-uni-image",{staticClass:"changeModeImg",attrs:{src:"/static/assets/img/Eat.png"}}),e._v("到店自取")],1):e._e()]),e.$Route.query.isIntegral?e._e():a("div",{on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.radioChange.apply(void 0,arguments)}}},[a("div",{staticClass:"order-area"},[a("div",{staticClass:"order-area-icon"},[a("v-uni-image",{attrs:{src:"/static/assets/img/weizhi.png",alt:!0}})],1),e.currentArea&&"{}"!==JSON.stringify(e.currentArea)?a("div",{staticStyle:{flex:"1"}},[a("div",[a("span",[e._v(e._s(e.currentArea.Name)+e._s(e._f("setSex")(e.currentArea.Sex)))]),a("span",{staticClass:"order-area-phone"},[e._v(e._s(e.currentArea.Mobile?e.currentArea.Mobile:e.currentArea.Tel))])]),a("div",{staticClass:"order-area-location"},[e._v(e._s(e.currentArea.Address)+" "+e._s(e.currentArea.House))])]):a("div",{staticStyle:{flex:"1",margin:"auto","font-size":"14px",color:"#909090"}},[e._v("选择"+e._s(2===e.radioModes?"收货":"取货")+"地址")]),a("div",{staticStyle:{margin:"auto 8px",color:"#909090"}},[a("uni-icons",{attrs:{type:"arrowright"}})],1)])]),a("div",{staticClass:"good_card_box"},e._l(e.prodList,(function(t,r){return a("div",{key:r,staticStyle:{"margin-bottom":"10px"}},[a("a-good-lineBox",{attrs:{itemData:t,isOrder:!0,isIntegral:!!e.$Route.query.isIntegral}})],1)})),0),e.$Route.query.isIntegral?a("adCell",{attrs:{text:"门店自取",showArrow:"false"}}):e._e(),!e.prodList[0].DeliveryType||e.prodList[0].DeliveryType.indexOf("3")>-1&&2===e.radioModes?e._e():a("adCell",{attrs:{text:1===e.radioModes?"选择自取时间":"选择收货时间",showArrow:"false"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickDataTime.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"customView"},[e._v(e._s(e.UserTime))])],1),e.DiscountList.length>0?a("adCell",{attrs:{text:e.UserDiscountName},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.clickUserDiscount.apply(void 0,arguments)}}},[a("v-uni-view",[e._v(e._s(e.UserDiscount))])],1):e._e(),1===e.radioModes?a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"手机号码",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入手机号码"},model:{value:e.phone_user,callback:function(t){e.phone_user=t},expression:"phone_user"}})],1)],1):e._e(),1===e.radioModes?a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"收件名字",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入收件名字"},model:{value:e.name_user,callback:function(t){e.name_user=t},expression:"name_user"}})],1)],1):e._e(),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"备注留言",showArrow:"false",showBottomLine:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请输入留言"},model:{value:e.UserRemarks,callback:function(t){e.UserRemarks=t},expression:"UserRemarks"}})],1)],1),a("adCell",{attrs:{text:"商品总价格",showArrow:"false",showBottomLine:"false"}},[a("span",[e._v("¥"+e._s(e.ProdTotal))])]),2===e.radioModes?a("adCell",{attrs:{text:"运费",showArrow:"false",showBottomLine:"false"}},[a("span",[e._v(e._s("0"==e.freight?"免运费":"¥"+e.freight))])]):e._e(),a("div",{staticClass:"total-style"},[a("span",[e._v("小计："),a("span",{staticClass:"total-style__color"},[e.allData.ScoreTotal?a("span",[e._v(e._s(e._f("spliceNum")(e.allData.ScoreTotal))+"积分")]):e._e(),e.totalCurrent>0?a("span",[e._v(e._s(e.totalCurrent>0&&e.allData.ScoreTotal?"+":"")+"¥"+e._s(e._f("spliceNum")(e.totalCurrent)))]):e._e()])])]),a("div",{staticClass:"radio-group-play"},[e.$Route.query.isIntegral&&e.allData.CardInfo?a("div",{staticStyle:{"padding-bottom":"4px"}},[e._v("当前卡积分："+e._s(e.allData.CardInfo.Score))]):e._e(),a("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioPayChange.apply(void 0,arguments)}}},[e.allData.SalePriceTotal&&e.$Route.query.isIntegral||!e.$Route.query.isIntegral?a("div",[e.allData.hasOwnProperty("CardInfo")?a("div",{staticClass:"radio-group-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.PayTypeClick("1")}}},[a("div",[a("img",{staticClass:"wechat",attrs:{slot:"right-icon",src:"/static/assets/img/moneyPay.png"},slot:"right-icon"}),a("span",{staticClass:"custom-title"},[e._v("卡支付（余额:"+e._s(e.CardInfo.Balance)+"）")])]),a("div",{staticStyle:{flex:"1","text-align":"right"}},[Number(e.CardInfo.Balance)>e.totalCurrent?a("v-uni-radio",{attrs:{slot:"right-icon",value:"1",checked:"1"==e.radioPayType},slot:"right-icon"}):a("span",{staticClass:"summaryNum",staticStyle:{color:"#777"}},[e._v("余额不足")])],1)]):e._e(),e.$Route.query.isIntegral&&!e.allData.CardInfo?e._e():a("div",{staticClass:"radio-group-item",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.PayTypeClick("2")}}},[a("div",[a("img",{staticClass:"wechat",attrs:{src:"/static/assets/img/weixinPay.png"}}),a("span",{staticClass:"custom-title"},[e._v("微信支付")])]),a("v-uni-radio",{staticStyle:{flex:"1","text-align":"right"},attrs:{slot:"right-icon",value:"2",checked:"2"==e.radioPayType},slot:"right-icon"})],1)]):e._e()])],1),a("a-bottomSubmit",{attrs:{isOrder:!0,allMoney:e.totalCurrent,scoreTatal:e.totalCurrentScore,cardInfo:e.allData.CardInfo,isIntegral:e.$Route.query.isIntegral},on:{submitMoney:function(t){arguments[0]=t=e.$handleEvent(t),e.submitMoney.apply(void 0,arguments)}}})],1):e._e(),a("div",{staticClass:"changeAreaStyle"},[a("uni-popup",{ref:"showAreaList",attrs:{type:"bottom"},model:{value:e.showAreaList,callback:function(t){e.showAreaList=t},expression:"showAreaList"}},[a("div",{staticClass:"confirm-order-popup"},[a("div",{staticClass:"top"},[a("span",{staticClass:"cancel",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.$refs.showAreaList.close()}}},[e._v("取消")]),a("span",[e._v("选择地址")])]),a("v-uni-radio-group",{ref:"checkboxAreaRef",staticClass:"bottom-area",on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.changeGroup.apply(void 0,arguments)}}},e._l(e.areaList,(function(t,r){return a("div",{key:r,staticClass:"bottom-area__box",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.changeArea(t,r)}}},[a("v-uni-radio",{staticClass:"checkbox-my",attrs:{value:t.SID,checked:e.showAreaList==t.SID}}),a("div",{staticClass:"bottom-area__info"},[a("div",[e._v(e._s(t.Address)+" "+e._s(t.House))]),a("div",{staticClass:"bottom-area__phone"},[e._v(e._s(t.Name)),t.Sex?a("span",[e._v(e._s(e._f("setSex")(t.Sex)))]):e._e(),e._v(""),a("span",[e._v(e._s(t.Mobile?t.Mobile:t.Tel))])])]),2===e.radioModes?a("span",{staticClass:"icon iconfont icon-bianji bottom-area__icon",on:{click:function(a){a.stopPropagation(),arguments[0]=a=e.$handleEvent(a),e.clickEdit(t)}}}):e._e()],1)})),0),2===e.radioModes?a("div",{staticClass:"bottom-area__add",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.areaSet.apply(void 0,arguments)}}},[a("uni-icons",{staticClass:"colorStyle",staticStyle:{"vertical-align":"middle","font-size":"18px","margin-right":"6px"},attrs:{type:"plus"}}),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v("新增收货地址")])],1):e._e()],1)])],1),a("uni-popup",{ref:"addEditArea",staticClass:"confirm-area-popup",attrs:{position:"bottom"},model:{value:e.addEditArea,callback:function(t){e.addEditArea=t},expression:"addEditArea"}},[e.addEditArea?a("a-receive-address",{attrs:{radioModes:e.radioModes,areaInfo:e.areaInfo,currentDeliveryType:e.currentDeliveryType},on:{clickGo:function(t){arguments[0]=t=e.$handleEvent(t),e.clickGo.apply(void 0,arguments)},saveArea:function(t){arguments[0]=t=e.$handleEvent(t),e.saveAreaSet.apply(void 0,arguments)}}}):e._e()],1),a("uni-popup",{ref:"selectTime",staticStyle:{"max-height":"50%"},attrs:{type:"bottom"},model:{value:e.selectTime,callback:function(t){e.selectTime=t},expression:"selectTime"}},[a("div",{staticClass:"confirm-selectTime-popup"},[a("div",{staticClass:"leftNavsidebar"},[a("v-uni-view",{class:["homepageLeftFixed"],staticStyle:{width:"130px"}},e._l(e.sidebarList,(function(t,r){return a("v-uni-view",{key:r,class:["homepageLeft",r===e.currentIndex?"activeCanteen":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.changeSider(r)}}},[e._v(e._s(t))])})),1)],1)]),e.rightTimeList.length>0?a("div",{staticClass:"rightTime"},[a("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.radioTimeFun.apply(void 0,arguments)}}},e._l(e.rightTimeList,(function(t,r){return a("div",{key:r,attrs:{border:!1}},[a("ad-cell",{attrs:{text:t,showArrow:"false",showBottomLine:"false"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.rightTimeClick(t)}}},[a("v-uni-radio",{attrs:{value:t,checked:e.radioTime==t}})],1)],1)})),0)],1):e._e()]),a("uni-popup",{ref:"discountProgram",attrs:{type:"bottom"}},[a("v-uni-radio-group",{on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.setDiscountClick.apply(void 0,arguments)}}},[a("ad-cell",{attrs:{text:"暂不使用",showArrow:"false"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.DiscountClick("undefined")}}},[a("v-uni-radio",{staticStyle:{display:"inline-block","vertical-align":"middle","margin-left":"20px"},attrs:{value:"undefined",checked:"undefined"===e.radioDiscount}})],1),e._l(e.DiscountList,(function(t,r){return a("div",{key:r},[a("adCell",{attrs:{text:t.PrefName,showArrow:"false",showBottomLine:"false"},on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.DiscountClick(t)}}},[a("span",{staticStyle:{"margin-right":"20px"}},[e._v("-¥"+e._s(t.DiscPrice||0))]),a("v-uni-radio",{attrs:{value:t.PrefNo,checked:t.PrefNo===e.radioDiscount}})],1)],1)}))],2)],1)],1)},n=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},"8f41":function(e,t,a){"use strict";var r=a("30cc"),i=a.n(r);i.a},"8f77":function(e,t,a){"use strict";a.r(t);var r=a("3b96"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},"92ec":function(e,t,a){var r=a("5ebe");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("8b288368",r,!0,{sourceMap:!1,shadowMode:!1})},9976:function(e,t,a){"use strict";var r={uniNavBar:a("44c0").default,uniPopup:a("a329").default,simpleAddress:a("23fe").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("uni-nav-bar",{attrs:{fixed:!0,"left-icon":"back",title:e.specificAreaHead?"选择收货地址":"收货地址","status-bar":!0,shadow:!1},on:{clickLeft:function(t){arguments[0]=t=e.$handleEvent(t),e.clickGo.apply(void 0,arguments)}}}),a("div",[a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"联系人",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请填写收货人的姓名"},model:{value:e.form.Name,callback:function(t){e.$set(e.form,"Name",t)},expression:"form.Name"}}),a("v-uni-text",{staticClass:"iconfont icon-tongxunlu",staticStyle:{position:"absolute",right:"30px",top:"15px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getWxAddress.apply(void 0,arguments)}}})],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"性别",showArrow:"false"}},[a("v-uni-view",{staticClass:"radio-group"},[a("v-uni-view",{staticClass:"radio",class:{checked:!e.form.Sex},staticStyle:{"margin-right":"10rpx"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.form.Sex=0}}},[e._v("先生")]),a("v-uni-view",{staticClass:"radio",class:{checked:e.form.Sex},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.form.Sex=1}}},[e._v("女士")])],1)],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"手机号",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"请填写收货人手机号码"},model:{value:e.form.Mobile,callback:function(t){e.$set(e.form,"Mobile",t)},expression:"form.Mobile"}})],1)],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"收货地址",showArrow:"false"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.tenxButton.apply(void 0,arguments)}}},[a("span",[e._v(e._s(e.form.Address?e.form.Address:"点击选择"))])])],1),a("div",{staticClass:"setADcell"},[a("adCell",{attrs:{text:"门牌号",showArrow:"false"}},[a("v-uni-input",{attrs:{type:"text",placeholder:"详细地址，例：15号楼5层301室"},model:{value:e.form.House,callback:function(t){e.$set(e.form,"House",t)},expression:"form.House"}})],1)],1),a("div",{staticClass:"setADcell setWidth"},[a("adCell",{attrs:{text:"设置为默认地址",showArrow:"false"}},[a("v-uni-switch",{attrs:{checked:!0},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.switchChange.apply(void 0,arguments)}},model:{value:e.form.Defaults,callback:function(t){e.$set(e.form,"Defaults",t)},expression:"form.Defaults"}})],1)],1)]),a("div",{staticStyle:{"margin-top":"50px",padding:"0 20px"}},[a("v-uni-button",{attrs:{type:"main",size:"large",disabled:e.disabledLoad},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.saveArea.apply(void 0,arguments)}}},[e._v("保存地址")])],1),a("uni-popup",{ref:"specificArea",staticClass:"confirm-area-popup",staticStyle:{"margin-top":"50px"}},[a("iframe",{staticStyle:{"margin-top":"50px"},attrs:{id:"mapPage",width:"100%",height:"100%",frameborder:"0",src:"https://apis.map.qq.com/tools/locpicker?search=1&type=1&policy=1&coord="+e.location.latitude+","+e.location.longitude+"&key=IB5BZ-HF53W-5KLRH-R3VUL-35KO7-Y2BUT&referer=365商城管理"}})]),a("simple-address",{ref:"logisticsArea",attrs:{pickerValueDefault:e.cityPickerValueDefault,cancelColor:"#999",themeColor:"#007AFF"},on:{onConfirm:function(t){arguments[0]=t=e.$handleEvent(t),e.confirmArea.apply(void 0,arguments)}}})],1)},n=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},a468:function(e,t,a){"use strict";var r=a("92ec"),i=a.n(r);i.a},a66a:function(e,t,a){"use strict";var r=a("ee27");a("4de4"),a("4160"),a("c975"),a("a15b"),a("a434"),a("a9e3"),a("b680"),a("d3b7"),a("acd8"),a("e25e"),a("ac1f"),a("3ca3"),a("1276"),a("159b"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("96cf");var i=r(a("c964")),n=a("57bb"),o=a("657b"),s=r(a("a055")),c=r(a("1420")),l={name:"confirmOrder",mixins:[s.default],components:{adCell:c.default},data:function(){return{mainStyle:getApp().globalData.mainStyle,mainColor:getApp().globalData.mainColor,loading:!0,currentItem:[],UserRemarks:"",UserTime:"",UserDiscount:"",UserDiscountName:"请选择方案",currentArea:{},radioModes:2,prodList:[],showAreaList:!1,addEditArea:!1,selectTime:!1,discountProgram:!1,resultArea:"",areaList:[],DeliveryAreaList:[],takeOver:[],freight:0,total:0,totalCurrent:0,location:{},activeKey:0,sidebarList:[],rightTimeList:[],radioTime:"",radioPayType:"1",CardInfo:{},phone_user:"",name_user:"",orderId:"",cardSids:[],ProdTotal:0,radioDiscount:"",DiscountList:[],allTimeSlot:[],RecordTime:{},areaInfo:{},currentDeliveryType:"",testData:{},allData:{},totalCurrentScore:0,currentIndex:0}},created:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.state.currentCard&&0!==e.$store.state.currentCard.length||(e.$Router.back(2),e.$Router.back(100)),t.next=3,e.getWxConfig();case 3:if(a=e.$store.state.currentCard||[],a.forEach((function(t){if(t.SID&&e.cardSids.push(t.SID),t.PartsNo instanceof Array){var a=[],r=JSON.parse(JSON.stringify(t.PartsNo));r.forEach((function(e){a.push(e.ProdNo)})),t.PartsNo=a.join(",")}})),e.currentItem=JSON.stringify(a),e.cardSids=e.cardSids?e.cardSids.join(","):"",!e.$Route.query.isIntegral){t.next=12;break}return t.next=10,e.getInfoIntegral();case 10:t.next=14;break;case 12:return t.next=14,e.getInfo();case 14:case"end":return t.stop()}}),t)})))()},methods:{getInfo:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loading=!0,uni.showLoading();try{a=JSON.parse(e.currentItem),e.currentDeliveryType=a[0].DeliveryType,r={Action:"SettlePay",ProdList:e.currentItem,DefLongitude:e.location.longitude,DefLatitude:e.location.latitude,DeliveryType:e.currentDeliveryType},a[0].hasOwnProperty("PromotionItemSID")&&(r.PromotionItemSID=a[0].PromotionItemSID),Promise.all([e.saveArea(!0),(0,n.vipCard)(r,"UProdOpera")]).then((function(t){e.areaList=t[0],e.takeOver=t[0];var a=t[1].Data;e.allData=a,e.prodList=a.ProdList,e.currentItem=JSON.parse(JSON.stringify(e.prodList)),e.currentDeliveryType=a.ProdList[0].DeliveryType,e.currentItem.forEach((function(e){"string"!==typeof e.PartsNo&&(e.PartsNo.forEach((function(t,a){e.arr=[],e.arr.push(t.ProdNo)})),e.PartsNo=e.arr?e.arr.join(","):"",delete e.arr),e.PartsList&&(e.PartsList=JSON.stringify(e.PartsList))})),e.currentItem=JSON.stringify(e.currentItem);var r=0;e.prodList.length>0&&e.prodList.forEach((function(e,t){e.DeliveryType&&""!==e.DeliveryType&&(e.DeliveryType=e.DeliveryType.split(",")),e.FinHour>r&&(r=e.FinHour)})),e.freight=a.Freight,e.DiscountList=a.DiscList||[],e.DiscountList.length>0&&(e.radioDiscount=e.DiscountList[0].PrefNo,e.UserDiscount="¥"+(e.DiscountList[0].DiscPrice||0),e.UserDiscountName=e.DiscountList[0].PrefName),e.total=a.SumTotal,e.ProdTotal=a.ProdTotal,e.totalCurrent=parseFloat(Number(a.SumTotal).toFixed(2)),e.CardInfo=a.hasOwnProperty("CardInfo")?a.CardInfo:{},"{}"!==JSON.stringify(e.CardInfo)?Number(a.CardInfo.Balance)<Number(a.SumTotal)&&(e.radioPayType="2"):e.radioPayType="2",e.DeliveryAreaList=a.ShopInfoList;var i=e.areaList.filter((function(e){return"1"===e.Defaults}))[0];e.currentArea=i||{},e.resultArea=i?i.SID:"";var n=Number(a.ShopBase.ScopeDay),s=0,c=0;if(Number(r)/24>=1)s=Number(r)/24,c=0;else{var l=f(a.ShopBase.EndTime),p=f((0,o.getTime)(!1,!1,!0)),m=60*Number(r)*60;(m+p).toFixed(2)>l?(c=Number(r),s+=1):(c=Number(r),s=0)}e.sidebarList=d(n,s);var v=u(a.ShopBase,c,s),h=v.arr,b=v.arrToday;e.allTimeSlot=h,e.todayTimeSlot=b,e.rightTimeList=b,e.radioTime=b[0],e.RecordTime={radioTime:b[0],index:0},e.UserTime=e.sidebarList[e.activeKey]+" "+e.radioTime,e.loading=!1,uni.hideLoading()})).catch((function(t){e.loading=!1,uni.hideLoading()}))}catch(i){e.loading=!1,uni.hideLoading()}case 3:case"end":return t.stop()}}),t)})))()},getInfoIntegral:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,uni.showLoading(),t.next=4,(0,n.vipCard)({Action:"SettlePay",ProdList:e.currentItem},"UIntegralOpera");case 4:a=t.sent,r=a.Data,e.prodList=r.ProdList,e.allData=r,e.CardInfo=r.CardInfo,e.currentItem=JSON.parse(JSON.stringify(e.prodList)),e.totalCurrent=parseFloat(Number(r.SalePriceTotal).toFixed(2)),r.ScoreTotal&&(e.totalCurrentScore=parseFloat(Number(r.ScoreTotal).toFixed(2))||0),e.loading=!1,uni.hideLoading(),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](0),e.loading=!1,uni.hideLoading();case 20:case"end":return t.stop()}}),t,null,[[0,16]])})))()},orderArea:function(){},changeMode:function(e){this.radioModes=e,this.areaList=1==e?this.DeliveryAreaList:this.takeOver,this.currentArea={},1===e?this.totalCurrent=this.total-this.freight:(this.totalCurrent=this.total,this.takeOver.filter((function(e){return"1"===e.Defaults})).length>0&&(this.currentArea=this.takeOver.filter((function(e){return"1"===e.Defaults}))[0]),this.resultArea=this.currentArea.SID),this.totalCurrent=parseFloat(Number(this.totalCurrent).toFixed(2))},radioChange:function(){this.showAreaList=!0,this.$refs.showAreaList.open()},radioPayChange:function(e){this.CardInfo&&Number(this.CardInfo.Balance)<this.totalCurrent||(this.radioPayType=e.detail.value)},changeGroup:function(e){this.resultArea=e.detail.value},changeArea:function(e,t){var a=this;return(0,i.default)(regeneratorRuntime.mark((function r(){var i,o,s,c,l;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a.showAreaList=e.SID,1===a.radioModes?i="IsPickShop":a.currentDeliveryType.indexOf("2")>-1?i="CalcFreight":a.currentDeliveryType.indexOf("3")>-1&&(i="CalcLogistics"),r.prev=2,a.loading=!0,uni.showLoading(),o=JSON.parse(a.currentItem),s={Action:i,ProdList:a.currentItem,Latitude:e.Latitude||"",Longitude:e.Longitude||"",Province:e.Province||"",PayType:a.radioPayType,PrefNo:"undefined"===a.radioDiscount?"":a.radioDiscount,ShopSID:e.SID},o[0].hasOwnProperty("PromotionItemSID")&&(s.PromotionItemSID=o[0].PromotionItemSID),r.next=10,(0,n.vipCard)(s,"UProdOpera");case 10:c=r.sent,l=c.Data,a.currentArea=e,a.showAreaList=!1,a.$refs.showAreaList.close(),a.resultArea=e.SID,a.areaList.splice(t,1),a.areaList.unshift(e),a.freight=l.Freight,a.totalCurrent=parseFloat(Number(l.SumTotal).toFixed(2)),a.loading=!1,uni.hideLoading(),r.next=28;break;case 24:r.prev=24,r.t0=r["catch"](2),a.loading=!1,uni.hideLoading();case 28:case"end":return r.stop()}}),r,null,[[2,24]])})))()},clickEdit:function(e){this.areaInfo=e,this.$refs.addEditArea.open(),this.addEditArea=!0},clickGo:function(){this.$refs.addEditArea.close(),this.addEditArea=!1},clickLeft:function(){this.$Router.push(this.$store.state.historyUrl)},clickDataTime:function(){this.selectTime=!0,this.$refs.selectTime.open()},clickUserDiscount:function(){this.discountProgram=!0,this.$refs.discountProgram.open()},clickTime:function(){},saveAreaSet:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$refs.addEditArea.close(),e.addEditArea=!1,e.loading=!0,uni.showLoading(),t.next=6,e.saveArea(!1);case 6:a=t.sent,e.areaList=a,e.takeOver=a,e.loading=!1,uni.hideLoading();case 11:case"end":return t.stop()}}),t)})))()},saveArea:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var r,i,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,t.currentDeliveryType.indexOf("2")>-1?r=1:t.currentDeliveryType.indexOf("3")>-1&&(r=2),a.next=4,(0,n.vipCard)({Action:"GetAddressList",Type:r},"UMemberOpera");case 4:return i=a.sent,o=i.Data,e&&uni.showLoading(),a.abrupt("return",o.AddressList);case 10:return a.prev=10,a.t0=a["catch"](0),a.abrupt("return",[]);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})))()},PayTypeClick:function(e){this.CardInfo&&Number(this.CardInfo.Balance)<this.totalCurrent||(this.radioPayType=e)},changeSider:function(e){this.currentIndex=e,this.activeKey=e,this.RecordTime.index===e?this.radioTime=this.RecordTime.radioTime:this.radioTime="",this.rightTimeList=0!==e?this.allTimeSlot:this.todayTimeSlot},rightTimeClick:function(e){this.RecordTime={radioTime:e,index:this.activeKey},this.radioTime=e,this.selectTime=!1,this.$refs.selectTime.close(),this.UserTime=this.sidebarList[this.activeKey]+" "+this.radioTime},radioTimeFun:function(e){this.radioTime=e.detail.value},setDiscountClick:function(e){this.radioDiscount=e.detail.value},DiscountClick:function(e){var t=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var r,i,o,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=e.PrefNo,"undefined"===e&&(r=""),t.discountProgram=!1,t.$refs.discountProgram.close(),a.prev=4,i={Action:"SelectDisc",PrefNo:r,ProdList:t.currentItem,PayType:t.radioPayType,Latitude:t.currentArea.Latitude,Longitude:t.currentArea.Longitude},t.loading=!0,uni.showLoading(),a.next=10,(0,n.vipCard)(i,"UProdOpera");case 10:o=a.sent,s=o.Data,t.UserDiscountName="undefined"===e?"优惠券方案":e.PrefName,t.UserDiscount="undefined"===e?"暂不使用":"¥"+e.DiscPrice,t.radioDiscount="undefined"===e?e:e.PrefNo,t.totalCurrent=parseFloat(Number(s.Total?s.Total:s.SumTotal).toFixed(2)),t.loading=!1,uni.hideLoading(),a.next=24;break;case 20:a.prev=20,a.t0=a["catch"](4),t.loading=!1,uni.hideLoading();case 24:case"end":return a.stop()}}),a,null,[[4,20]])})))()},areaSet:function(){this.areaInfo={},this.addEditArea=!0,this.$refs.addEditArea.open()},submitMoney:function(){var e=this;return(0,i.default)(regeneratorRuntime.mark((function t(){var a,r,i,s,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("{}"!==JSON.stringify(e.currentArea)||e.$Route.query.isIntegral){t.next=3;break}return e.$toast("请选择地址"),t.abrupt("return");case 3:if(1!==e.radioModes){t.next=15;break}if(e.phone_user&&""!==e.phone_user){t.next=9;break}return e.$toast("请填写手机号码"),t.abrupt("return");case 9:if((0,o.checkMobile)(e.phone_user)){t.next=12;break}return e.$toast("手机号格式错误"),t.abrupt("return");case 12:if(e.name_user&&""!==e.name_user){t.next=15;break}return e.$toast("请填写收件名字"),t.abrupt("return");case 15:if("undefined"===e.radioDiscount&&(e.radioDiscount=""),a=e.radioModes,2===e.radioModes?e.currentDeliveryType.indexOf("2")>-1?a=2:e.currentDeliveryType.indexOf("3")>-1&&(a=3):a=1,"string"!==typeof e.currentItem&&(e.currentItem=JSON.stringify(e.currentItem)),r={Action:"OrderPay",DeliveryType:a,UserName:2===e.radioModes?e.currentArea.Name:e.name_user,Mobile:1===e.radioModes?e.phone_user:e.currentArea.Mobile,Address:2===e.radioModes?e.currentArea.Address+"  "+e.currentArea.House:"",ProdList:e.currentItem,Latitude:e.currentArea.Latitude||"",Longitude:e.currentArea.Longitude||"",Province:e.currentArea.Province||"",AddressSID:2===e.radioModes?e.resultArea.SID:"",ShopSID:1===e.radioModes?e.resultArea:"",UserRemarks:e.UserRemarks,PayType:e.radioPayType,PickDate:e.sidebarList[e.RecordTime.index],PickTime:e.RecordTime.radioTime,CartSID:e.cardSids,PrefNo:e.radioDiscount},JSON.parse(e.currentItem)[0].hasOwnProperty("PromotionItemSID")&&(r.PromotionItemSID=JSON.parse(e.currentItem)[0].PromotionItemSID),!e.$Route.query.isIntegral){t.next=31;break}if(i=JSON.parse(e.currentItem),r=i[0],r.Action="OrderPay",r.PayType=e.radioPayType,r.UserRemarks=e.UserRemarks,r.DeliveryType=1,e.CardInfo){t.next=31;break}return e.$toast.fail("未绑定微卡"),t.abrupt("return");case 31:return s=e.$Route.query.isIntegral?"UIntOrderOpera":"UOrderOpera",e.loading=!0,uni.showLoading(),t.prev=34,t.next=37,(0,n.vipCard)(r,s);case 37:if(c=t.sent,l=c.Data,e.loading=!1,uni.hideLoading(),e.$store.commit("SET_CURRENT_CARD",[]),uni.removeStorageSync("alreadyPaid"),"1"===e.radioPayType)console.log(l,"---"),e.$Router.push({path:"/pages/shoppingMall/order/confirmCard",query:{Balance:e.CardInfo.Balance,Score:e.CardInfo.Score,PayScore:l.hasOwnProperty("PayScore")?l.PayScore:"",total:l.SumTotal,PayNo:l.PayNo,IsPass:l.IsPass,OrderType:l.OrderType}});else{e.testData=l;try{(0,o.weChatPayment)(e,l,!1)}catch(d){that.$toast.fail("微信调起失败"),e.loading=!1,uni.hideLoading()}}t.next=50;break;case 46:t.prev=46,t.t0=t["catch"](34),e.loading=!1,uni.hideLoading();case 50:case"end":return t.stop()}}),t,null,[[34,46]])})))()}}};function d(e,t){var a=[],r="";e=Number(e);for(var i=0;i<e;i++){var n=864e5,s=t>1?(new Date).getTime()+t*n:(new Date).getTime();r=i*n+s,a.push((0,o.getTime)(r,!0))}return a}function u(e,t,a){var r=3600,i=60*Number(e.IntervalMinute),n=f(e.EndTime),s=Number(f(e.StartTime)),c=[],l=[];while(s<=n)c.push(p(s)),s+=i;return 0==a?c.forEach((function(e){e=f(e),0==a&&e>f((0,o.getTime)(!1,!1,!0))+Number(t)*r&&l.push(p(e))})):l=c,{arr:c,arrToday:l}}function f(e){var t=0,a=e.split(":")[0],r=e.split(":")[1],i=e.split(":")[2];return t=Number(3600*a)+Number(60*r)+Number(i),t}function p(e){var t=parseInt(e),a=0,r=0,i="";return t>60&&(a=parseInt(t/60),t=parseInt(t%60),a>60&&(r=parseInt(a/60),a=parseInt(a%60))),r=r<10?"0"+r:r,a=a<10?"0"+a:a,t=t<10?"0"+t:t,i=r+":"+a+":"+t,i}t.default=l},bcf6:function(e,t,a){e.exports=a.p+"static/img/nodeData.e395053f.png"},c23d:function(e,t,a){"use strict";a.r(t);var r=a("a66a"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},c71c:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".nodeData-fa[data-v-b4b5762e]{text-align:center}.nodeData[data-v-b4b5762e]{text-align:center;position:absolute;left:50%;top:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.stringVal[data-v-b4b5762e]{display:inline-block;white-space:nowrap;font-size:15px;margin-top:10px;color:#777}",""]),e.exports=t},c765:function(e,t,a){var r=a("c834");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("5be72f49",r,!0,{sourceMap:!1,shadowMode:!1})},c834:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,".indexTop[data-v-66674604]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:10px 0 5px 0;background:#fff}.changeMode[data-v-66674604]{width:140px;height:50px;display:-webkit-box;display:-webkit-flex;display:flex;background:#eee;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;border-radius:10px;font-size:14px;position:relative;overflow:hidden}.changeModeImg[data-v-66674604]{width:25px!important;height:25px!important}.changeModeLeft[data-v-66674604]{margin-right:15px}.changeModeRight[data-v-66674604]{margin-left:15px}.changeTopIcon[data-v-66674604]{right:-2px;position:absolute;bottom:-4px;font-size:28px}.confirm-order-style[data-v-66674604]{margin-bottom:80px\n  /*margin-left: 10px !important;*/}.confirm-order-style .uni-popup[data-v-66674604]{z-index:999}.confirm-order-style .setADcell[data-v-66674604] .detailView1{-webkit-box-flex:0;-webkit-flex:none;flex:none}.confirm-order-style .setADcell[data-v-66674604] .headView{-webkit-box-flex:0;-webkit-flex:none;flex:none;width:90px}.confirm-order-style .radio-group-play[data-v-66674604]{background-color:#fff;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?26?% %?24?%}.confirm-order-style .radio-group-play .radio-group-item[data-v-66674604]{padding:6px 0;display:-webkit-box;display:-webkit-flex;display:flex}.confirm-order-style .radio-group-play .custom-title[data-v-66674604]{vertical-align:middle}.confirm-order-style .total-style[data-v-66674604]{background:#fff;text-align:right;line-height:40px;font-size:16px;padding-right:10px;border-bottom:%?1?% solid #ebedf0}.confirm-order-style .total-style__color[data-v-66674604]{color:red}.confirm-order-style .order-area[data-v-66674604]{background:#fff;padding:14px 6px;display:-webkit-box;display:-webkit-flex;display:flex}.confirm-order-style .order-area-icon[data-v-66674604]{margin:auto}.confirm-order-style .order-area-icon img[data-v-66674604],\n.confirm-order-style .order-area-icon uni-image[data-v-66674604]{margin:0 10px;width:40px;height:40px}.confirm-order-style .order-area-phone[data-v-66674604]{font-size:14px;color:#909090;margin-left:8px}.confirm-order-style .order-area-location[data-v-66674604]{font-size:12px;margin-top:3px}.confirm-order-style .good_card_box[data-v-66674604]{background:#fff;margin:5px 0 5px;padding:10px}.confirm-order-style .good_card_box .boxShadow[data-v-66674604]{box-shadow:none}.confirm-order-style .good_card_box .rightBox[data-v-66674604]{margin:0 10px}.confirm-order-style .confirm-order-popup[data-v-66674604]{background-color:#fff;max-height:50%}.confirm-order-style .confirm-order-popup .top[data-v-66674604]{padding:10px 20px 10px;text-align:center;border-bottom:1px solid #eee;position:relative}.confirm-order-style .confirm-order-popup .cancel[data-v-66674604]{font-size:12px;position:absolute;left:20px;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);color:#777}.confirm-order-style .bottom-area[data-v-66674604]{max-height:60vh;overflow:scroll}.confirm-order-style .bottom-area__box[data-v-66674604]{display:-webkit-box;display:-webkit-flex;display:flex;padding:8px 12px;-webkit-box-align:center;-webkit-align-items:center;align-items:center}.confirm-order-style .bottom-area__info[data-v-66674604]{-webkit-box-flex:1;-webkit-flex:1;flex:1;font-size:14px}.confirm-order-style .bottom-area__icon[data-v-66674604]{width:30px;text-align:center;margin:auto}.confirm-order-style .bottom-area__phone[data-v-66674604]{color:#969799;font-size:12px;margin-top:5px}.confirm-order-style .bottom-area__add[data-v-66674604]{text-align:center;padding:10px;border-top:1px solid #eee}.confirm-order-style .bottom-area .checkbox-my[data-v-66674604]{margin-right:10px}.confirm-order-style .confirm-area-popup[data-v-66674604]{height:100%}.confirm-order-style .confirm-area-popup[data-v-66674604] .uni-popup__wrapper-box{height:100%;background:#fff}.confirm-order-style .confirm-selectTime-popup .leftNavsidebar[data-v-66674604]{width:130px;display:fixed;position:fixed;top:0;overflow-y:scroll;background:#f8f8f8;height:100vh}.confirm-order-style .confirm-selectTime-popup .leftNavsidebar .activeCanteen[data-v-66674604]{background:#fff}.confirm-order-style .confirm-selectTime-popup .leftNavsidebar .homepageLeft[data-v-66674604]{line-height:60px;padding-left:6px}.confirm-order-style .rightTime[data-v-66674604]{height:50vh;padding:8px;box-sizing:border-box;margin-left:130px;background:#fff;overflow-y:scroll}.confirm-order-style .wechat[data-v-66674604]{width:18px;height:18px;margin-right:8px;display:inline-block;font-size:18px;vertical-align:middle}.confirm-order-style .wechat uni-image[data-v-66674604]{width:100%;height:100%}",""]),e.exports=t},caf5:function(e,t,a){"use strict";var r,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{on:{touchmove:function(t){t.stopPropagation(),t.preventDefault(),arguments[0]=t=e.$handleEvent(t)}}},[a("v-uni-view",{staticClass:"modal-box",class:[e.fadein||e.show?"modal-normal":"modal-scale",e.show?"modal-show":""],style:{width:e.width,padding:e.padding,borderRadius:e.radius}},[e.custom?a("v-uni-view",[e._t("default")],2):a("v-uni-view",[e.title?a("v-uni-view",{staticClass:"modal-title"},[e._v(e._s(e.title))]):e._e(),a("v-uni-view",{staticClass:"modal-content",class:[e.title?"":"mtop"],style:{color:e.color,fontSize:e.size+"rpx"}},[e._t("default")],2),a("v-uni-view",{staticClass:"modalBtn-box",class:[2!=e.button.length?"flex-column":""]},[e._l(e.button,(function(t,r){return[a("v-uni-button",{key:r+"_0",staticClass:"modal-btn",class:[(t.type||"primary")+(t.plain?"-outline":""),2!=e.button.length?"btn-width":"",e.button.length>2?"mbtm":"","circle"==e.shape?"circle-btn":"","btn-"+(t.size||"default")],attrs:{"hover-class":(t.plain?"outline":t.type||"primary")+"-hover","data-index":r},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._v(e._s(t.text||"确定"))])]}))],2)],1)],1),a("v-uni-view",{staticClass:"modal-mask",class:[e.show?"mask-show":""],on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClickCancel.apply(void 0,arguments)}}})],1)},n=[];a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return r}))},cb09:function(e,t,a){"use strict";var r=a("4089"),i=a.n(r);i.a},e49a:function(e,t,a){"use strict";var r=a("f935"),i=a.n(r);i.a},eecb:function(e,t,a){"use strict";a.r(t);var r=a("5fd7"),i=a.n(r);for(var n in r)"default"!==n&&function(e){a.d(t,e,(function(){return r[e]}))}(n);t["default"]=i.a},f537:function(e,t,a){var r=a("24fb");t=r(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.modal-box[data-v-3bff0761]{position:fixed;left:50%;top:50%;margin:auto;background:#fff;z-index:9999998;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;opacity:0;box-sizing:border-box;visibility:hidden}.modal-scale[data-v-3bff0761]{-webkit-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0)}.modal-normal[data-v-3bff0761]{-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}.modal-show[data-v-3bff0761]{opacity:1;visibility:visible}.modal-mask[data-v-3bff0761]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);z-index:9999996;-webkit-transition:all .3s ease-in-out;transition:all .3s ease-in-out;opacity:0;visibility:hidden}.mask-show[data-v-3bff0761]{visibility:visible;opacity:1}.modal-title[data-v-3bff0761]{text-align:center;font-size:%?34?%;color:#333;padding-top:%?20?%;font-weight:700}.modal-content[data-v-3bff0761]{color:#999;font-size:%?28?%;padding-top:%?20?%;padding-bottom:%?60?%}.mtop[data-v-3bff0761]{margin-top:%?30?%}.mbtm[data-v-3bff0761]{margin-bottom:%?30?%}.modalBtn-box[data-v-3bff0761]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.flex-column[data-v-3bff0761]{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}.modal-btn[data-v-3bff0761]{width:46%;height:%?68?%;line-height:%?68?%;position:relative;border-radius:%?60?%;font-size:%?28?%;overflow:visible;margin-left:0;margin-right:0}.modal-btn.btn-default[data-v-3bff0761]{font-size:%?28?%}.modal-btn.btn-lg[data-v-3bff0761]{font-size:%?32?%}.modal-btn.btn-sm[data-v-3bff0761]{font-size:%?24?%}.modal-btn[data-v-3bff0761]::after{content:"";position:absolute;width:200%;height:200%;-webkit-transform-origin:0 0;transform-origin:0 0;-webkit-transform:scale(.5);transform:scale(.5);left:0;top:0;border-radius:%?60?%}.btn-width[data-v-3bff0761]{width:80%!important}.primary[data-v-3bff0761]{background:#97af13;color:#fff}.primary-hover[data-v-3bff0761]{background:#97af13;color:#e5e5e5}.primary-outline[data-v-3bff0761]{color:#97af13;background:none}.primary-outline[data-v-3bff0761]::after{border:1px solid #97af13}.danger[data-v-3bff0761]{background:#ed3f14;color:#fff}.danger-hover[data-v-3bff0761]{background:#d53912;color:#e5e5e5}.danger-outline[data-v-3bff0761]{color:#ed3f14;background:none}.danger-outline[data-v-3bff0761]::after{border:1px solid #ed3f14}.red[data-v-3bff0761]{background:#e41f19;color:#fff}.red-hover[data-v-3bff0761]{background:#c51a15;color:#e5e5e5}.red-outline[data-v-3bff0761]{color:#e41f19;background:none}.red-outline[data-v-3bff0761]::after{border:1px solid #e41f19}.warning[data-v-3bff0761]{background:#ff7900;color:#fff}.warning-hover[data-v-3bff0761]{background:#e56d00;color:#e5e5e5}.warning-outline[data-v-3bff0761]{color:#ff7900;background:none}.warning-outline[data-v-3bff0761]::after{border:1px solid #ff7900}.green[data-v-3bff0761]{background:#19be6b;color:#fff}.green-hover[data-v-3bff0761]{background:#16ab60;color:#e5e5e5}.green-outline[data-v-3bff0761]{color:#19be6b;background:none}.green-outline[data-v-3bff0761]::after{border:1px solid #19be6b}.white[data-v-3bff0761]{background:#fff;color:#333}.white-hover[data-v-3bff0761]{background:#f7f7f9;color:#666}.white-outline[data-v-3bff0761]{color:#333;background:none}.white-outline[data-v-3bff0761]::after{border:1px solid #333}.gray[data-v-3bff0761]{background:#ededed;color:#999}.gray-hover[data-v-3bff0761]{background:#d5d5d5;color:#898989}.gray-outline[data-v-3bff0761]{color:#999;background:none}.gray-outline[data-v-3bff0761]::after{border:1px solid #999}.outline-hover[data-v-3bff0761]{opacity:.6}.circle-btn[data-v-3bff0761]{border-radius:%?40?%!important}.circle-btn[data-v-3bff0761]::after{border-radius:%?80?%!important}',""]),e.exports=t},f6d5:function(e,t,a){"use strict";a.r(t);var r=a("2b11"),i=a("eecb");for(var n in i)"default"!==n&&function(e){a.d(t,e,(function(){return i[e]}))}(n);a("e49a");var o,s=a("f0c5"),c=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"b4b5762e",null,!1,r["a"],o);t["default"]=c.exports},f741:function(e,t,a){"use strict";var r=a("ee27");a("a9e3"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;r(a("30be"));var i={name:"index",props:{batchState:[Boolean],allMoney:[String,Number],scoreTatal:[String,Number],isType:[String,Number],isOrder:{type:Boolean,default:!1},allResult:{type:Boolean,default:!1},isIntegral:[String],cardInfo:[Object],objPrice:[Object]},data:function(){return{result:this.allResult,disabledIntegral:!1,mainColor:getApp().globalData.mainColor,money:0,couponDetailModalShow:!1,priceTips:"",isActive:!1}},computed:{sumPrice:function(){return this.money=Number(this.objPrice.DiscPrice)+Number(this.objPrice.TicketPrice),this.money}},created:function(){this.isIntegral&&this.cardInfo&&(this.disabledIntegral=Number(this.cardInfo.Score)<Number(this.scoreTatal))},methods:{changeTips:function(){this.isActive=!this.isActive},checkAll:function(e){var t=e.detail.value.length>0;this.$emit("checkAll",!t)},submitMoney:function(){this.$emit("submitMoney")},delButton:function(){this.$emit("delButton")}},watch:{allResult:function(e){this.result=e}}};t.default=i},f935:function(e,t,a){var r=a("c71c");"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var i=a("4f06").default;i("7c0393de",r,!0,{sourceMap:!1,shadowMode:!1})}}]);